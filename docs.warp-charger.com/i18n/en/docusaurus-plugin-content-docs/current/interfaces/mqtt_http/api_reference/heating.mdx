---
description: Heating
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/heating.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Heating
The `heating` module allows settings for heating control to be configured.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
Not supported on this hardware!
</TabItem>
<TabItem value="warp2">
Not supported on this hardware!
</TabItem>
<TabItem value="warp3">
Not supported on this hardware!
</TabItem>
<TabItem value="wem">
Not supported on this hardware!
</TabItem>
<TabItem value="wem2">
## `heating/config` {#heating_config_wem2}


The heating control configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. wem2-AbCd
```

#### Read
```bash
curl http://$HOST/heating/config
```
```jsx
{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}
```



#### Write
```bash
curl http://$HOST/heating/config -d '{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. wem2/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/heating/config
```
```jsx
{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}
```



#### Write
            With MQTT on <code>$PREFIX/heating/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/heating/config_update -m '{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_blocking_type`<br/>int</th>
    <td>
        SG-Ready output 1 configuration (used for blocking operation).
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_extended_type`<br/>int</th>
    <td>
        SG-Ready output 2 configuration (used for extended operation).
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`min_hold_time`<br/>int</th>
    <td>
        Minimum hold time for SG-Ready output 1 and SG-Ready output 2.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot_grid_power`<br/>int</th>
    <td>
        Specifies which electricity meter is considered the grid connection meter for control.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`control_period`<br/>int</th>
    <td>
        
        - **0** - 24 hours
        - **1** - 12 hours
        - **2** - 8 hours
        - **3** - 6 hours
        - **4** - 4 hours
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended_logging`<br/>bool</th>
    <td>
        Specifies whether detailed information about control decisions should be recorded in the event log.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`yield_forecast`<br/>bool</th>
    <td>
        Specifies whether the PV yield forecast should be used for heating control.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`yield_forecast_threshold`<br/>int (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Threshold for the PV yield forecast. When PV yield forecast control is enabled and the forecast exceeds the configured energy, dynamic electricity price control is disabled and only PV excess is used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended`<br/>bool</th>
    <td>
        Specifies whether extended operation control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended_hours`<br/>int (<abbr title="Hour">h</abbr>)</th>
    <td>
        Number of (cheapest) hours for which extended operation should be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`blocking`<br/>bool</th>
    <td>
        Specifies whether blocking operation control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`blocking_hours`<br/>int (<abbr title="Hour">h</abbr>)</th>
    <td>
        Number of (most expensive) hours for which blocking operation should be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`pv_excess_control`<br/>bool</th>
    <td>
        Specifies whether PV excess control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`pv_excess_control_threshold`<br/>int (<abbr title="Watt">W</abbr>)</th>
    <td>
        Threshold for PV excess control. When PV excess control is enabled and PV excess exceeds the configured value, heating is only switched to extended operation when there is PV excess.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg`<br/>bool</th>
    <td>
        Specifies whether §14a EnWG control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg_input`<br/>int</th>
    <td>
        Specifies which input of the energy manager should be used for shutdown via §14a EnWG.
        - **0** - Input 1
        - **1** - Input 2
        - **1** - Input 3
        - **1** - Input 4
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg_type`<br/>int</th>
    <td>
        Configuration for the input.
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `heating/state` {#heating_state_wem2}


The heating control state.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. wem2-AbCd
```
#### Read
```bash
curl http://$HOST/heating/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. wem2/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/heating/state
```
        </TabItem>
    </Tabs>

```jsx
{
    "sgr_blocking": true,
    "sgr_extended": false,
    "p14enwg": false,
    "next_update": 28899735
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_blocking`<br/>bool</th>
    <td>
        Indicates whether blocking operation is active.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_extended`<br/>bool</th>
    <td>
        Indicates whether extended operation is active.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg`<br/>bool</th>
    <td>
        Indicates whether blocking operation is active due to §14a EnWG.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`next_update`<br/>int</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating when the heating control will perform the next update.
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="any">
## `heating/config` {#heating_config_any}


The heating control configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```

#### Read
```bash
curl http://$HOST/heating/config
```
```jsx
{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}
```



#### Write
```bash
curl http://$HOST/heating/config -d '{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/heating/config
```
```jsx
{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}
```



#### Write
            With MQTT on <code>$PREFIX/heating/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/heating/config_update -m '{
    "sgr_blocking_type": 0,
    "sgr_extended_type": 0,
    "min_hold_time": 15,
    "meter_slot_grid_power": 1,
    "control_period": 0,
    "extended_logging": false,
    "yield_forecast": true,
    "yield_forecast_threshold": 10,
    "extended": true,
    "extended_hours": 3,
    "blocking": true,
    "blocking_hours": 14,
    "pv_excess_control": true,
    "pv_excess_control_threshold": 1400,
    "p14enwg": false,
    "p14enwg_input": 0,
    "p14enwg_type": 0
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_blocking_type`<br/>int</th>
    <td>
        SG-Ready output 1 configuration (used for blocking operation).
        
        
        
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_extended_type`<br/>int</th>
    <td>
        SG-Ready output 2 configuration (used for extended operation).
        
        
        
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`min_hold_time`<br/>int</th>
    <td>
        Minimum hold time for SG-Ready output 1 and SG-Ready output 2.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot_grid_power`<br/>int</th>
    <td>
        Specifies which electricity meter is considered the grid connection meter for control.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`control_period`<br/>int</th>
    <td>
        
        
        
        
        - **0** - 24 hours
        - **1** - 12 hours
        - **2** - 8 hours
        - **3** - 6 hours
        - **4** - 4 hours
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended_logging`<br/>bool</th>
    <td>
        Specifies whether detailed information about control decisions should be recorded in the event log.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`yield_forecast`<br/>bool</th>
    <td>
        Specifies whether the PV yield forecast should be used for heating control.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`yield_forecast_threshold`<br/>int (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Threshold for the PV yield forecast. When PV yield forecast control is enabled and the forecast exceeds the configured energy, dynamic electricity price control is disabled and only PV excess is used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended`<br/>bool</th>
    <td>
        Specifies whether extended operation control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`extended_hours`<br/>int (<abbr title="Hour">h</abbr>)</th>
    <td>
        Number of (cheapest) hours for which extended operation should be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`blocking`<br/>bool</th>
    <td>
        Specifies whether blocking operation control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`blocking_hours`<br/>int (<abbr title="Hour">h</abbr>)</th>
    <td>
        Number of (most expensive) hours for which blocking operation should be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`pv_excess_control`<br/>bool</th>
    <td>
        Specifies whether PV excess control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`pv_excess_control_threshold`<br/>int (<abbr title="Watt">W</abbr>)</th>
    <td>
        Threshold for PV excess control. When PV excess control is enabled and PV excess exceeds the configured value, heating is only switched to extended operation when there is PV excess.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg`<br/>bool</th>
    <td>
        Specifies whether §14a EnWG control should be enabled.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg_input`<br/>int</th>
    <td>
        Specifies which input of the energy manager should be used for shutdown via §14a EnWG.
        
        
        
        - **0** - Input 1
        - **1** - Input 2
        - **1** - Input 3
        - **1** - Input 4
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg_type`<br/>int</th>
    <td>
        Configuration for the input.
        
        
        
        - **0** - Active when closed
        - **1** - Active when open
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `heating/state` {#heating_state_any}


The heating control state.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/heating/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/heating/state
```
        </TabItem>
    </Tabs>

```jsx
{
    "sgr_blocking": true,
    "sgr_extended": false,
    "p14enwg": false,
    "next_update": 28899735
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_blocking`<br/>bool</th>
    <td>
        Indicates whether blocking operation is active.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`sgr_extended`<br/>bool</th>
    <td>
        Indicates whether extended operation is active.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`p14enwg`<br/>bool</th>
    <td>
        Indicates whether blocking operation is active due to §14a EnWG.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`next_update`<br/>int</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating when the heating control will perform the next update.
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "heating/config",
    "id": "heating_config",
    "level": 2,
    "hardwareType": ["wem2"]
},{
    "value": "heating/state",
    "id": "heating_state",
    "level": 2,
    "hardwareType": ["wem2"]
},
];
