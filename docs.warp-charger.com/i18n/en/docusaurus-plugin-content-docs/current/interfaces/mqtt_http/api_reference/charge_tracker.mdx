---
description: Charge Tracker
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/charge_tracker.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Charge Tracker
The `charge_tracker` module records charging sessions. Charging sessions are stored in a compact binary format and can be retrieved in this format or processed as a PDF document.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
## `charge_tracker/state` {#charge_tracker_state_warp1}


State of the charge tracker
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/state
```
        </TabItem>
    </Tabs>

```jsx
{ "tracked_charges": 206, "first_charge_timestamp": 28090609 }
```
28090609 * 60 = 1685436540 = 2023-05-30T08:49:00+00:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tracked_charges`<br/>int</th>
    <td>
        Total number of recorded charging sessions.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`first_charge_timestamp`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the <strong>first</strong> charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/last_charges` {#charge_tracker_last_charges_warp1}


The last (up to) 30 recorded charging sessions
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/last_charges
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/last_charges
```
        </TabItem>
    </Tabs>

```jsx
[
  {
    "timestamp_minutes": 28568514,
    "charge_duration": 27479,
    "user_id": 0,
    "energy_charged": 39.83935547
  },
  {
    "timestamp_minutes": 28572916,
    "charge_duration": 37806,
    "user_id": 0,
    "energy_charged": 33.81298828
  },
  {
    "timestamp_minutes": 28574252,
    "charge_duration": 27915,
    "user_id": 0,
    "energy_charged": 34.23388672
  }
]
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..29]`<br/>object</th>
    <td>
        A tracked charging session
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
            <td>
                A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`charge_duration`<br/>int (<abbr title="Second">s</abbr>)</th>
            <td>
                Duration of the charging session.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
            <td>
                ID of the user who started the charging session. 0 if authorization was granted without user assignment.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_charged`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
            <td>
                Energy charged. null if no meter was available at start or end time.
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/current_charge` {#charge_tracker_current_charge_warp1}


Information about the currently running charging session. If no charging session is running, user_id has the value -1
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/current_charge
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/current_charge
```
        </TabItem>
    </Tabs>

```jsx
{
  "user_id": 0,
  "meter_start": 886.1900024,
  "evse_uptime_start": 786598059,
  "timestamp_minutes": 28577341,
  "authorization_type": 0,
  "authorization_info": null
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment. -1 if no charging session is currently running.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_start`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. null if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`evse_uptime_start`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Uptime of the charge controller at the start of the charging session. To calculate how long the charging session has been running, the current uptime from [`evse/low_level_state`](/interfaces/mqtt_http/api_reference/evse.mdx#evse_low_level_state) can be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_type`<br/>int</th>
    <td>
        Indicates how the charging session was authorized.
        - **0** - User authorization disabled, charging session was authorized when vehicle was connected. authorization_info is null.
        - **1** - Authorization type was lost because the ESP restarted during the charging session. authorization_info is null.
        - **2** - Charging session was authorized by NFC tag. NFC tag was physically held to the WARP Charger. authorization_info contains tag_id and tag_type.
        - **3** - Charging session was authorized by NFC tag. NFC tag was spoofed via [`nfc/inject_tag`](/interfaces/mqtt_http/api_reference/nfc.mdx#nfc_inject_tag). authorization_info contains tag_id and tag_type.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_info`<br/>None</th>
    <td>
        Additional information about user authorization. Format depends on authorization_type.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/remove_all_charges` {#charge_tracker_remove_all_charges_warp1}


Deletes all recorded charging sessions and the username history. <strong>Cannot be undone!</strong> A restart is automatically performed afterwards.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Write
```bash
curl http://$HOST/charge_tracker/remove_all_charges -d '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Write
```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/remove_all_charges -m '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`do_i_know_what_i_am_doing`<br/>bool</th>
    <td>
        Indicates whether the deletion should be performed
        - **true** - Delete all recorded charging sessions and the username history
        - **false** - Perform no action
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/charge_log` {#charge_tracker_charge_log_warp1}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Returns all recorded charging sessions in the following binary format. Entries each correspond to one charging session, are 16 bytes long and are output sequentially. The following indices are byte offsets relative to the start of a recorded charging session. All values are in little-endian format.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
```bash
curl http://$HOST/charge_tracker/charge_log
```

```
offset      timestamp | kwh_start | id | duration | kwh_end
0x00000000: c2eb b301 | 3bf8 8c45 | 00 | 57 6b00  | f236 8e45
0x00000010: f4fc b301 | 2738 8e45 | 00 | ae 9300  | a846 8f45
0x00000020: 2c02 b401 | df46 8f45 | 00 | 0b 6d00  | be58 9045
```
Dieses Beispiel enthält die selben Ladevorgänge wie das [`charge_tracker/last_charges`](/interfaces/mqtt_http/api_reference/charge_tracker.mdx#charge_tracker_last_charges)-Beispiel


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Only supported by the HTTP API**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..3]`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[4..7]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. NaN if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[8]`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Duration of the charging session.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..15]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the end of the charging session. NaN if no meter was available at end time.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Only supported by the HTTP API"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `charge_tracker/config` {#charge_tracker_config_warp1}


The charge tracker configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```

#### Read
```bash
curl http://$HOST/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
```bash
curl http://$HOST/charge_tracker/config -d '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
curl http://$HOST/charge_tracker/config -d '3381'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
            With MQTT on <code>$PREFIX/charge_tracker/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '3381'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`electricity_price`<br/>int (<abbr title="Hundredth cent per kilowatt-hour">ct/kWh/100</abbr>)</th>
    <td>
        Electricity price used in the web interface and charge log to calculate charging costs
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp2">
## `charge_tracker/state` {#charge_tracker_state_warp2}


State of the charge tracker
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/state
```
        </TabItem>
    </Tabs>

```jsx
{ "tracked_charges": 206, "first_charge_timestamp": 28090609 }
```
28090609 * 60 = 1685436540 = 2023-05-30T08:49:00+00:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tracked_charges`<br/>int</th>
    <td>
        Total number of recorded charging sessions.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`first_charge_timestamp`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the <strong>first</strong> charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/last_charges` {#charge_tracker_last_charges_warp2}


The last (up to) 30 recorded charging sessions
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/last_charges
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/last_charges
```
        </TabItem>
    </Tabs>

```jsx
[
  {
    "timestamp_minutes": 28568514,
    "charge_duration": 27479,
    "user_id": 0,
    "energy_charged": 39.83935547
  },
  {
    "timestamp_minutes": 28572916,
    "charge_duration": 37806,
    "user_id": 0,
    "energy_charged": 33.81298828
  },
  {
    "timestamp_minutes": 28574252,
    "charge_duration": 27915,
    "user_id": 0,
    "energy_charged": 34.23388672
  }
]
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..29]`<br/>object</th>
    <td>
        A tracked charging session
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
            <td>
                A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`charge_duration`<br/>int (<abbr title="Second">s</abbr>)</th>
            <td>
                Duration of the charging session.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
            <td>
                ID of the user who started the charging session. 0 if authorization was granted without user assignment.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_charged`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
            <td>
                Energy charged. null if no meter was available at start or end time.
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/current_charge` {#charge_tracker_current_charge_warp2}


Information about the currently running charging session. If no charging session is running, user_id has the value -1
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/current_charge
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/current_charge
```
        </TabItem>
    </Tabs>

```jsx
{
  "user_id": 0,
  "meter_start": 886.1900024,
  "evse_uptime_start": 786598059,
  "timestamp_minutes": 28577341,
  "authorization_type": 0,
  "authorization_info": null
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment. -1 if no charging session is currently running.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_start`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. null if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`evse_uptime_start`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Uptime of the charge controller at the start of the charging session. To calculate how long the charging session has been running, the current uptime from [`evse/low_level_state`](/interfaces/mqtt_http/api_reference/evse.mdx#evse_low_level_state) can be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_type`<br/>int</th>
    <td>
        Indicates how the charging session was authorized.
        - **0** - User authorization disabled, charging session was authorized when vehicle was connected. authorization_info is null.
        - **1** - Authorization type was lost because the ESP restarted during the charging session. authorization_info is null.
        - **2** - Charging session was authorized by NFC tag. NFC tag was physically held to the WARP Charger. authorization_info contains tag_id and tag_type.
        - **3** - Charging session was authorized by NFC tag. NFC tag was spoofed via [`nfc/inject_tag`](/interfaces/mqtt_http/api_reference/nfc.mdx#nfc_inject_tag). authorization_info contains tag_id and tag_type.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_info`<br/>None</th>
    <td>
        Additional information about user authorization. Format depends on authorization_type.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/remove_all_charges` {#charge_tracker_remove_all_charges_warp2}


Deletes all recorded charging sessions and the username history. <strong>Cannot be undone!</strong> A restart is automatically performed afterwards.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
#### Write
```bash
curl http://$HOST/charge_tracker/remove_all_charges -d '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```
#### Write
```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/remove_all_charges -m '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`do_i_know_what_i_am_doing`<br/>bool</th>
    <td>
        Indicates whether the deletion should be performed
        - **true** - Delete all recorded charging sessions and the username history
        - **false** - Perform no action
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/charge_log` {#charge_tracker_charge_log_warp2}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Returns all recorded charging sessions in the following binary format. Entries each correspond to one charging session, are 16 bytes long and are output sequentially. The following indices are byte offsets relative to the start of a recorded charging session. All values are in little-endian format.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
```bash
curl http://$HOST/charge_tracker/charge_log
```

```
offset      timestamp | kwh_start | id | duration | kwh_end
0x00000000: c2eb b301 | 3bf8 8c45 | 00 | 57 6b00  | f236 8e45
0x00000010: f4fc b301 | 2738 8e45 | 00 | ae 9300  | a846 8f45
0x00000020: 2c02 b401 | df46 8f45 | 00 | 0b 6d00  | be58 9045
```
Dieses Beispiel enthält die selben Ladevorgänge wie das [`charge_tracker/last_charges`](/interfaces/mqtt_http/api_reference/charge_tracker.mdx#charge_tracker_last_charges)-Beispiel


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Only supported by the HTTP API**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..3]`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[4..7]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. NaN if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[8]`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Duration of the charging session.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..15]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the end of the charging session. NaN if no meter was available at end time.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Only supported by the HTTP API"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `charge_tracker/config` {#charge_tracker_config_warp2}


The charge tracker configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```

#### Read
```bash
curl http://$HOST/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
```bash
curl http://$HOST/charge_tracker/config -d '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
curl http://$HOST/charge_tracker/config -d '3381'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
            With MQTT on <code>$PREFIX/charge_tracker/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '3381'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`electricity_price`<br/>int (<abbr title="Hundredth cent per kilowatt-hour">ct/kWh/100</abbr>)</th>
    <td>
        Electricity price used in the web interface and charge log to calculate charging costs
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp3">
## `charge_tracker/state` {#charge_tracker_state_warp3}


State of the charge tracker
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/state
```
        </TabItem>
    </Tabs>

```jsx
{ "tracked_charges": 206, "first_charge_timestamp": 28090609 }
```
28090609 * 60 = 1685436540 = 2023-05-30T08:49:00+00:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tracked_charges`<br/>int</th>
    <td>
        Total number of recorded charging sessions.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`first_charge_timestamp`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the <strong>first</strong> charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/last_charges` {#charge_tracker_last_charges_warp3}


The last (up to) 30 recorded charging sessions
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/last_charges
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/last_charges
```
        </TabItem>
    </Tabs>

```jsx
[
  {
    "timestamp_minutes": 28568514,
    "charge_duration": 27479,
    "user_id": 0,
    "energy_charged": 39.83935547
  },
  {
    "timestamp_minutes": 28572916,
    "charge_duration": 37806,
    "user_id": 0,
    "energy_charged": 33.81298828
  },
  {
    "timestamp_minutes": 28574252,
    "charge_duration": 27915,
    "user_id": 0,
    "energy_charged": 34.23388672
  }
]
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..29]`<br/>object</th>
    <td>
        A tracked charging session
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
            <td>
                A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`charge_duration`<br/>int (<abbr title="Second">s</abbr>)</th>
            <td>
                Duration of the charging session.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
            <td>
                ID of the user who started the charging session. 0 if authorization was granted without user assignment.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_charged`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
            <td>
                Energy charged. null if no meter was available at start or end time.
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/current_charge` {#charge_tracker_current_charge_warp3}


Information about the currently running charging session. If no charging session is running, user_id has the value -1
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/current_charge
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/current_charge
```
        </TabItem>
    </Tabs>

```jsx
{
  "user_id": 0,
  "meter_start": 886.1900024,
  "evse_uptime_start": 786598059,
  "timestamp_minutes": 28577341,
  "authorization_type": 0,
  "authorization_info": null
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment. -1 if no charging session is currently running.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_start`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. null if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`evse_uptime_start`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Uptime of the charge controller at the start of the charging session. To calculate how long the charging session has been running, the current uptime from [`evse/low_level_state`](/interfaces/mqtt_http/api_reference/evse.mdx#evse_low_level_state) can be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_type`<br/>int</th>
    <td>
        Indicates how the charging session was authorized.
        - **0** - User authorization disabled, charging session was authorized when vehicle was connected. authorization_info is null.
        - **1** - Authorization type was lost because the ESP restarted during the charging session. authorization_info is null.
        - **2** - Charging session was authorized by NFC tag. NFC tag was physically held to the WARP Charger. authorization_info contains tag_id and tag_type.
        - **3** - Charging session was authorized by NFC tag. NFC tag was spoofed via [`nfc/inject_tag`](/interfaces/mqtt_http/api_reference/nfc.mdx#nfc_inject_tag). authorization_info contains tag_id and tag_type.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_info`<br/>None</th>
    <td>
        Additional information about user authorization. Format depends on authorization_type.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/remove_all_charges` {#charge_tracker_remove_all_charges_warp3}


Deletes all recorded charging sessions and the username history. <strong>Cannot be undone!</strong> A restart is automatically performed afterwards.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
#### Write
```bash
curl http://$HOST/charge_tracker/remove_all_charges -d '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```
#### Write
```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/remove_all_charges -m '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`do_i_know_what_i_am_doing`<br/>bool</th>
    <td>
        Indicates whether the deletion should be performed
        - **true** - Delete all recorded charging sessions and the username history
        - **false** - Perform no action
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/charge_log` {#charge_tracker_charge_log_warp3}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Returns all recorded charging sessions in the following binary format. Entries each correspond to one charging session, are 16 bytes long and are output sequentially. The following indices are byte offsets relative to the start of a recorded charging session. All values are in little-endian format.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
```bash
curl http://$HOST/charge_tracker/charge_log
```

```
offset      timestamp | kwh_start | id | duration | kwh_end
0x00000000: c2eb b301 | 3bf8 8c45 | 00 | 57 6b00  | f236 8e45
0x00000010: f4fc b301 | 2738 8e45 | 00 | ae 9300  | a846 8f45
0x00000020: 2c02 b401 | df46 8f45 | 00 | 0b 6d00  | be58 9045
```
Dieses Beispiel enthält die selben Ladevorgänge wie das [`charge_tracker/last_charges`](/interfaces/mqtt_http/api_reference/charge_tracker.mdx#charge_tracker_last_charges)-Beispiel


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Only supported by the HTTP API**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..3]`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[4..7]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. NaN if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[8]`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Duration of the charging session.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..15]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the end of the charging session. NaN if no meter was available at end time.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Only supported by the HTTP API"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `charge_tracker/config` {#charge_tracker_config_warp3}


The charge tracker configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```

#### Read
```bash
curl http://$HOST/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
```bash
curl http://$HOST/charge_tracker/config -d '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
curl http://$HOST/charge_tracker/config -d '3381'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
            With MQTT on <code>$PREFIX/charge_tracker/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '3381'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`electricity_price`<br/>int (<abbr title="Hundredth cent per kilowatt-hour">ct/kWh/100</abbr>)</th>
    <td>
        Electricity price used in the web interface and charge log to calculate charging costs
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem">
Not supported on this hardware!
</TabItem>
<TabItem value="wem2">
Not supported on this hardware!
</TabItem>
<TabItem value="any">
## `charge_tracker/state` {#charge_tracker_state_any}


State of the charge tracker
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/state
```
        </TabItem>
    </Tabs>

```jsx
{ "tracked_charges": 206, "first_charge_timestamp": 28090609 }
```
28090609 * 60 = 1685436540 = 2023-05-30T08:49:00+00:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tracked_charges`<br/>int</th>
    <td>
        Total number of recorded charging sessions.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`first_charge_timestamp`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the <strong>first</strong> charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/last_charges` {#charge_tracker_last_charges_any}


The last (up to) 30 recorded charging sessions
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/last_charges
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/last_charges
```
        </TabItem>
    </Tabs>

```jsx
[
  {
    "timestamp_minutes": 28568514,
    "charge_duration": 27479,
    "user_id": 0,
    "energy_charged": 39.83935547
  },
  {
    "timestamp_minutes": 28572916,
    "charge_duration": 37806,
    "user_id": 0,
    "energy_charged": 33.81298828
  },
  {
    "timestamp_minutes": 28574252,
    "charge_duration": 27915,
    "user_id": 0,
    "energy_charged": 34.23388672
  }
]
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..29]`<br/>object</th>
    <td>
        A tracked charging session
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
            <td>
                A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`charge_duration`<br/>int (<abbr title="Second">s</abbr>)</th>
            <td>
                Duration of the charging session.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
            <td>
                ID of the user who started the charging session. 0 if authorization was granted without user assignment.
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_charged`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
            <td>
                Energy charged. null if no meter was available at start or end time.
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/current_charge` {#charge_tracker_current_charge_any}


Information about the currently running charging session. If no charging session is running, user_id has the value -1
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/charge_tracker/current_charge
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/current_charge
```
        </TabItem>
    </Tabs>

```jsx
{
  "user_id": 0,
  "meter_start": 886.1900024,
  "evse_uptime_start": 786598059,
  "timestamp_minutes": 28577341,
  "authorization_type": 0,
  "authorization_info": null
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`user_id`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment. -1 if no charging session is currently running.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_start`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. null if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`evse_uptime_start`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Uptime of the charge controller at the start of the charging session. To calculate how long the charging session has been running, the current uptime from [`evse/low_level_state`](/interfaces/mqtt_http/api_reference/evse.mdx#evse_low_level_state) can be used.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`timestamp_minutes`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_type`<br/>int</th>
    <td>
        Indicates how the charging session was authorized.
        
        
        
        - **0** - User authorization disabled, charging session was authorized when vehicle was connected. authorization_info is null.
        - **1** - Authorization type was lost because the ESP restarted during the charging session. authorization_info is null.
        - **2** - Charging session was authorized by NFC tag. NFC tag was physically held to the WARP Charger. authorization_info contains tag_id and tag_type.
        - **3** - Charging session was authorized by NFC tag. NFC tag was spoofed via [`nfc/inject_tag`](/interfaces/mqtt_http/api_reference/nfc.mdx#nfc_inject_tag). authorization_info contains tag_id and tag_type.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`authorization_info`<br/>None</th>
    <td>
        Additional information about user authorization. Format depends on authorization_type.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/remove_all_charges` {#charge_tracker_remove_all_charges_any}


Deletes all recorded charging sessions and the username history. <strong>Cannot be undone!</strong> A restart is automatically performed afterwards.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Write
```bash
curl http://$HOST/charge_tracker/remove_all_charges -d '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Write
```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/remove_all_charges -m '{ "do_i_know_what_i_am_doing": false }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`do_i_know_what_i_am_doing`<br/>bool</th>
    <td>
        Indicates whether the deletion should be performed
        
        
        
        - **true** - Delete all recorded charging sessions and the username history
        - **false** - Perform no action
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_tracker/charge_log` {#charge_tracker_charge_log_any}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Returns all recorded charging sessions in the following binary format. Entries each correspond to one charging session, are 16 bytes long and are output sequentially. The following indices are byte offsets relative to the start of a recorded charging session. All values are in little-endian format.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
```bash
curl http://$HOST/charge_tracker/charge_log
```

```
offset      timestamp | kwh_start | id | duration | kwh_end
0x00000000: c2eb b301 | 3bf8 8c45 | 00 | 57 6b00  | f236 8e45
0x00000010: f4fc b301 | 2738 8e45 | 00 | ae 9300  | a846 8f45
0x00000020: 2c02 b401 | df46 8f45 | 00 | 0b 6d00  | be58 9045
```
Dieses Beispiel enthält die selben Ladevorgänge wie das [`charge_tracker/last_charges`](/interfaces/mqtt_http/api_reference/charge_tracker.mdx#charge_tracker_last_charges)-Beispiel


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Only supported by the HTTP API**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..3]`<br/>int (<abbr title="Minute">min</abbr>)</th>
    <td>
        A Unix timestamp in <strong>minutes</strong> indicating the start time of the charging session. 0 if no time synchronization was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[4..7]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the start of the charging session. NaN if no meter was available at start time.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[8]`<br/>int</th>
    <td>
        ID of the user who started the charging session. 0 if authorization was granted without user assignment.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>int (<abbr title="Second">s</abbr>)</th>
    <td>
        Duration of the charging session.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..15]`<br/>float (<abbr title="Kilowatt-hour">kWh</abbr>)</th>
    <td>
        Meter reading at the end of the charging session. NaN if no meter was available at end time.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Only supported by the HTTP API"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `charge_tracker/config` {#charge_tracker_config_any}


The charge tracker configuration.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```

#### Read
```bash
curl http://$HOST/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
```bash
curl http://$HOST/charge_tracker/config -d '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
curl http://$HOST/charge_tracker/config -d '3381'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_tracker/config
```
```jsx
{ "electricity_price": 3381 }
```



#### Write
            With MQTT on <code>$PREFIX/charge_tracker/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '{ "electricity_price": 3381 }'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_tracker/config_update -m '3381'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`electricity_price`<br/>int (<abbr title="Hundredth cent per kilowatt-hour">ct/kWh/100</abbr>)</th>
    <td>
        Electricity price used in the web interface and charge log to calculate charging costs
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "charge_tracker/state",
    "id": "charge_tracker_state",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},{
    "value": "charge_tracker/last_charges",
    "id": "charge_tracker_last_charges",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},{
    "value": "charge_tracker/current_charge",
    "id": "charge_tracker_current_charge",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},{
    "value": "charge_tracker/remove_all_charges",
    "id": "charge_tracker_remove_all_charges",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},{
    "value": "charge_tracker/charge_log",
    "id": "charge_tracker_charge_log",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},{
    "value": "charge_tracker/config",
    "id": "charge_tracker_config",
    "level": 2,
    "hardwareType": ["warp1","warp2","warp3"]
},
];
