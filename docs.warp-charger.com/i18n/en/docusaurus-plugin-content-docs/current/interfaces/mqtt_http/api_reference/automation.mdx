---
description: Automation
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/automation.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Automation
With the `automation` module, simple rules can be executed. A rule consists of an action to be executed and a condition that must be met for the action to be executed.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
## `automation/state` {#automation_state_warp1}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 5, 6, 9, 10, 11, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8],
  "enabled_triggers": [1, 2, 6, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp1}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Change of charging state">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Charging state before transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Charging state after transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Detection of an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Reaching the charging time or energy limit">
                null: Reaching the charging time or energy limit
                </TabItem>
                
                <TabItem value="9" label="9 - Triggering of the external control watchdog.">
                null: Triggering of the external control watchdog.
                </TabItem>
                
                <TabItem value="10" label="10 - Detection of an error by the meter monitoring">
                null: Detection of an error by the meter monitoring
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limit the charging current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Charging current limit to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Display on the front button LED">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`indication`<br/>int</th>
                    <td>
                        Blink pattern to be displayed.
                        - **-1** - EVSE controls LED
                        - **0** - Off
                        - **1..254** - PWM dimmed lighting
                        - **255** - On
                        - **1001** - Confirming blink (e.g.: NFC tag was detected)
                        - **1002** - Rejecting blink (e.g.: NFC tag is unknown)
                        - **1003** - Prompting blink (e.g.: NFC tag is required for charging)
                        - **2001..2010** - Error blink 1 to 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisecond">ms</abbr>)</th>
                    <td>
                        Duration for which the set state is maintained.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_h`<br/>int (<abbr title="Degree">Â°</abbr>)</th>
                    <td>
                        Hue value of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 359
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_s`<br/>int</th>
                    <td>
                        Saturation of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 255
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_v`<br/>int</th>
                    <td>
                        Value (brightness) of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). A brightness of 0 uses the default color of the `indication` or blue for WARP1 or WARP2. Allowed values are 0 to 255
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simulate an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>int</th>
                    <td>
                        Indicates whether the tag should only be used for starting or stopping a charging session, or for both
                        - **0** - Tag can start and stop charging sessions
                        - **0** - Tag can start charging sessions
                        - **0** - Tag can stop charging sessions
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Set the charging time or energy limit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Indicates whether the new limits should apply relative to the existing charging session, or absolutely. For example, if a charging session has been running for 17 minutes and this action is triggered with duration = 2 (30 minutes), then if restart is false, the charging session may continue for another 13 minutes, so that a total of 30 minutes has been charged. If restart is true, it may charge for another 30 minutes, i.e. a total of 47 minutes.
                        - **false** - New charging limit applies relative to the running charging session. E.g. extension <strong>to</strong> 30 minutes.
                        - **true** - New charging limit applies absolutely. E.g. extension <strong>by</strong> 30 minutes.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Time limit of a charging session. After the time limit expires, the charging session is stopped.
                        - **-1** - Do not change time limit
                        - **0** - Unlimited
                        - **1** - 15 minutes
                        - **2** - 30 minutes
                        - **3** - 45 minutes
                        - **4** - 1 hour
                        - **5** - 2 hours
                        - **6** - 3 hours
                        - **7** - 4 hours
                        - **8** - 6 hours
                        - **9** - 8 hours
                        - **10** - 12 hours
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Watt-hour">Wh</abbr>)</th>
                    <td>
                        Energy limit of a charging session. After the energy limit is reached, the charging session is stopped.
                        - **-1** - Do not change energy limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp2">
## `automation/state` {#automation_state_warp2}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```
#### Read
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 16, 17, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14],
  "enabled_triggers": [1, 2, 4, 6, 7, 8, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 9, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp2}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp2-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp2/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Change of charging state">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Charging state before transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Charging state after transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Pressing the front button">
                null: Pressing the front button
                </TabItem>
                
                <TabItem value="5" label="5 - Detection of an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Reaching the charging time or energy limit">
                null: Reaching the charging time or energy limit
                </TabItem>
                
                <TabItem value="7" label="7 - Switching of the shutdown input">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`closed`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Switching of the configurable input">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`closed`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Triggering of the external control watchdog.">
                null: Triggering of the external control watchdog.
                </TabItem>
                
                <TabItem value="10" label="10 - Detection of an error by the meter monitoring">
                null: Detection of an error by the meter monitoring
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limit the charging current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Charging current limit to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Display on the front button LED">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`indication`<br/>int</th>
                    <td>
                        Blink pattern to be displayed.
                        - **-1** - EVSE controls LED
                        - **0** - Off
                        - **1..254** - PWM dimmed lighting
                        - **255** - On
                        - **1001** - Confirming blink (e.g.: NFC tag was detected)
                        - **1002** - Rejecting blink (e.g.: NFC tag is unknown)
                        - **1003** - Prompting blink (e.g.: NFC tag is required for charging)
                        - **2001..2010** - Error blink 1 to 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisecond">ms</abbr>)</th>
                    <td>
                        Duration for which the set state is maintained.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_h`<br/>int (<abbr title="Degree">Â°</abbr>)</th>
                    <td>
                        Hue value of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 359
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_s`<br/>int</th>
                    <td>
                        Saturation of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 255
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_v`<br/>int</th>
                    <td>
                        Value (brightness) of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). A brightness of 0 uses the default color of the `indication` or blue for WARP1 or WARP2. Allowed values are 0 to 255
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simulate an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>int</th>
                    <td>
                        Indicates whether the tag should only be used for starting or stopping a charging session, or for both
                        - **0** - Tag can start and stop charging sessions
                        - **0** - Tag can start charging sessions
                        - **0** - Tag can stop charging sessions
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Set the charging time or energy limit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Indicates whether the new limits should apply relative to the existing charging session, or absolutely. For example, if a charging session has been running for 17 minutes and this action is triggered with duration = 2 (30 minutes), then if restart is false, the charging session may continue for another 13 minutes, so that a total of 30 minutes has been charged. If restart is true, it may charge for another 30 minutes, i.e. a total of 47 minutes.
                        - **false** - New charging limit applies relative to the running charging session. E.g. extension <strong>to</strong> 30 minutes.
                        - **true** - New charging limit applies absolutely. E.g. extension <strong>by</strong> 30 minutes.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Time limit of a charging session. After the time limit expires, the charging session is stopped.
                        - **-1** - Do not change time limit
                        - **0** - Unlimited
                        - **1** - 15 minutes
                        - **2** - 30 minutes
                        - **3** - 45 minutes
                        - **4** - 1 hour
                        - **5** - 2 hours
                        - **6** - 3 hours
                        - **7** - 4 hours
                        - **8** - 6 hours
                        - **9** - 8 hours
                        - **10** - 12 hours
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Watt-hour">Wh</abbr>)</th>
                    <td>
                        Energy limit of a charging session. After the energy limit is reached, the charging session is stopped.
                        - **-1** - Do not change energy limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Switch the configurable output">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Indicates whether the configured output should be closed or opened.
                        - **0** - Closed (connected to ground)
                        - **1** - Open (high impedance)
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp3">
## `automation/state` {#automation_state_warp3}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```
#### Read
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 16, 17, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8, 11, 12, 14],
  "enabled_triggers": [1, 2, 4, 6, 7, 11, 18, 3, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 2, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp3}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp3-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp3/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Change of charging state">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Charging state before transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Charging state after transition
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Pressing the front button">
                null: Pressing the front button
                </TabItem>
                
                <TabItem value="5" label="5 - Detection of an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Reaching the charging time or energy limit">
                null: Reaching the charging time or energy limit
                </TabItem>
                
                <TabItem value="7" label="7 - Switching of the shutdown input">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`closed`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Triggering of the external control watchdog.">
                null: Triggering of the external control watchdog.
                </TabItem>
                
                <TabItem value="10" label="10 - Detection of an error by the meter monitoring">
                null: Detection of an error by the meter monitoring
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limit the charging current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Charging current limit to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Display on the front button LED">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`indication`<br/>int</th>
                    <td>
                        Blink pattern to be displayed.
                        - **-1** - EVSE controls LED
                        - **0** - Off
                        - **1..254** - PWM dimmed lighting
                        - **255** - On
                        - **1001** - Confirming blink (e.g.: NFC tag was detected)
                        - **1002** - Rejecting blink (e.g.: NFC tag is unknown)
                        - **1003** - Prompting blink (e.g.: NFC tag is required for charging)
                        - **2001..2010** - Error blink 1 to 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisecond">ms</abbr>)</th>
                    <td>
                        Duration for which the set state is maintained.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_h`<br/>int (<abbr title="Degree">Â°</abbr>)</th>
                    <td>
                        Hue value of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 359
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_s`<br/>int</th>
                    <td>
                        Saturation of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 255
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_v`<br/>int</th>
                    <td>
                        Value (brightness) of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). A brightness of 0 uses the default color of the `indication` or blue for WARP1 or WARP2. Allowed values are 0 to 255
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simulate an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>int</th>
                    <td>
                        Indicates whether the tag should only be used for starting or stopping a charging session, or for both
                        - **0** - Tag can start and stop charging sessions
                        - **0** - Tag can start charging sessions
                        - **0** - Tag can stop charging sessions
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Set the charging time or energy limit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Indicates whether the new limits should apply relative to the existing charging session, or absolutely. For example, if a charging session has been running for 17 minutes and this action is triggered with duration = 2 (30 minutes), then if restart is false, the charging session may continue for another 13 minutes, so that a total of 30 minutes has been charged. If restart is true, it may charge for another 30 minutes, i.e. a total of 47 minutes.
                        - **false** - New charging limit applies relative to the running charging session. E.g. extension <strong>to</strong> 30 minutes.
                        - **true** - New charging limit applies absolutely. E.g. extension <strong>by</strong> 30 minutes.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Time limit of a charging session. After the time limit expires, the charging session is stopped.
                        - **-1** - Do not change time limit
                        - **0** - Unlimited
                        - **1** - 15 minutes
                        - **2** - 30 minutes
                        - **3** - 45 minutes
                        - **4** - 1 hour
                        - **5** - 2 hours
                        - **6** - 3 hours
                        - **7** - 4 hours
                        - **8** - 6 hours
                        - **9** - 8 hours
                        - **10** - 12 hours
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Watt-hour">Wh</abbr>)</th>
                    <td>
                        Energy limit of a charging session. After the energy limit is reached, the charging session is stopped.
                        - **-1** - Do not change energy limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Start a phase switching">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_wanted`<br/>int</th>
                    <td>
                        Indicates whether to switch to single-phase or three-phase
                        - **1** - Switch to single-phase
                        - **3** - Switch to three-phase
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="12" label="12 - Change the charging mode">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mode`<br/>int</th>
                    <td>
                        Desired charging mode. See [`power_manager/charge_mode`](/interfaces/mqtt_http/api_reference/power_manager.mdx#power_manager_charge_mode)
                        - **0** - Fast
                        - **1** - Off
                        - **2** - PV
                        - **3** - Min + PV
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Limit the ???TODO??? current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Current limit to be set
                        - **-1** - Remove current limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem">
## `automation/state` {#automation_state_wem}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. wem-AbCd
```
#### Read
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. wem/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 3, 12, 13, 14, 15, 16, 17, 18],
  "registered_actions": [1, 2, 5, 11, 12, 13, 14, 15],
  "enabled_triggers": [1, 12, 13, 14, 15, 18, 3, 16, 17],
  "enabled_actions": [1, 5, 13, 15, 2, 12, 14]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_wem}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. wem-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. wem/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="12" label="12 - Switching of input 3">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Switching of input 4">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Switching of the phase switching">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Indicates whether to react when switching to single-phase or three-phase
                        - **1** - React when switching to single-phase
                        - **3** - React when switching to three-phase
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Detection of an error by the contactor monitoring">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`contactor_okay`<br/>bool</th>
                    <td>
                        Indicates whether to react when a contactor error is present or not.
                        - **true** - React when a contactor error was detected
                        - **false** - React when no contactor error was detected
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Start a phase switching">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_wanted`<br/>int</th>
                    <td>
                        Indicates whether to switch to single-phase or three-phase
                        - **1** - Switch to single-phase
                        - **3** - Switch to three-phase
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="12" label="12 - Change the charging mode">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mode`<br/>int</th>
                    <td>
                        Desired charging mode. See [`power_manager/charge_mode`](/interfaces/mqtt_http/api_reference/power_manager.mdx#power_manager_charge_mode)
                        - **0** - Fast
                        - **1** - Off
                        - **2** - PV
                        - **3** - Min + PV
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Switch the relay output">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether the relay output should be closed or opened.
                        - **true** - Closed
                        - **false** - Open
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Limit the ???TODO??? current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Current limit to be set
                        - **-1** - Remove current limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Block or release charging sessions">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`slot`<br/>int</th>
                    <td>
                        Blocking slot to be used. Charging sessions are only allowed if all 4 blocking slots are not blocking.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`block`<br/>bool</th>
                    <td>
                        Indicates whether the selected blocking slot should be blocked or released
                        - **false** - Release selected blocking slot
                        - **true** - Block selected blocking slot
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem2">
## `automation/state` {#automation_state_wem2}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_wem2}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. wem2-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. wem2/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="any">
## `automation/state` {#automation_state_any}


The state of the automation. Indicates which conditions and actions are supported by this firmware and which of the supported conditions and actions can currently be executed. Depending on the configuration, certain conditions and actions cannot be executed, for example, MQTT messages cannot be responded to if no MQTT connection is configured.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```
#### Read
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```
#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 5, 6, 9, 10, 11, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8],
  "enabled_triggers": [1, 2, 6, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[19]</th>
    <td>
        Conditions known to this firmware (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)).
        
        
        
        - **[0..18]** - A known condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[16]</th>
    <td>
        Actions known to this firmware (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config))
        
        
        
        - **[0..15]** - A known action.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[19]</th>
    <td>
        Currently executable conditions (union tags of the trigger of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_triggers`.
        
        
        
        - **[0..18]** - An executable condition.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[16]</th>
    <td>
        Currently executable actions (union tags of the action of a rule from [`automation/config`](/interfaces/mqtt_http/api_reference/automation.mdx#automation_config)). Is always a subset of `registered_actions`.
        
        
        
        - **[0..15]** - An executable action.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_any}


The configuration of the automation.
:::info[Example]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST e.g. warp-AbCd
```

#### Read
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER e.g. my_mosquitto.localdomain
# $PREFIX e.g. warp/AbCd
```

#### Read
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hello World!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Configure two tasks:
- (Trigger 1) On weekends (wday 9), 10 minutes (minute 10) after each full hour,<br/>
  (Action 1) show `Hello World!` in the event log.
- (Trigger 18) When an HTTP-GET, POST or PUT request (method 4) with content "open" is received at URL `http://$HOST/automation_trigger/garage_door`,<br/>
  (Action 2) send MQTT message `1` to topic `door/control`.


#### Write
            With MQTT on <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

or abbreviated:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Meaning</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Configured rules
        
        
        
        - **[0..13]** - An automation rule
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Meaning</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Condition that must be met for the action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No condition configured.">
                null: No condition configured.
                </TabItem>
                
                <TabItem value="1" label="1 - At a specific time.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Day of month (1 to 31 or -1, 0, 32)
                        
                        
                        
                        - **-1** - Every day of the month
                        - **0** - Every day of the month
                        - **32** - Last day of the month
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Weekday
                        
                        
                        
                        - **-1** - Every day of the week
                        - **0** - Sunday
                        - **1** - Monday
                        - **2** - Tuesday
                        - **3** - Wednesday
                        - **4** - Thursday
                        - **5** - Friday
                        - **6** - Saturday
                        - **7** - Sunday
                        - **8** - Weekdays (Monday to Friday)
                        - **9** - On weekends (Saturday and Sunday)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Hour of day (0 to 23 or -1)
                        
                        
                        
                        - **-1** - Hourly
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute of day (0 to 59 or -1)
                        
                        
                        
                        - **-1** - Every minute
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Change of charging state">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Charging state before transition
                        
                        
                        
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Charging state after transition
                        
                        
                        
                        - **-1** - Any charging state
                        - **0** - Vehicle disconnected
                        - **1** - Waiting for release
                        - **2** - Ready to charge
                        - **3** - Charging
                        - **4** - Error
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Receipt of an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic_filter`<br/>string</th>
                    <td>
                        MQTT topic filter to wait for messages with.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether to react to retained packets
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Pressing the front button">
                null: Pressing the front button
                </TabItem>
                
                <TabItem value="5" label="5 - Detection of an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag
                        
                        
                        
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Reaching the charging time or energy limit">
                null: Reaching the charging time or energy limit
                </TabItem>
                
                <TabItem value="7" label="7 - Switching of the shutdown input">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`closed`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        
                        
                        
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Switching of the configurable input">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`closed`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        
                        
                        
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Triggering of the external control watchdog.">
                null: Triggering of the external control watchdog.
                </TabItem>
                
                <TabItem value="10" label="10 - Detection of an error by the meter monitoring">
                null: Detection of an error by the meter monitoring
                </TabItem>
                
                <TabItem value="11" label="11 - Triggering of the load management watchdog.">
                null: Triggering of the load management watchdog.
                </TabItem>
                
                <TabItem value="12" label="12 - Switching of input 3">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        
                        
                        
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Switching of input 4">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether to react when the input is open or closed
                        
                        
                        
                        - **true** - React when input is open
                        - **false** - React when input is closed
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Switching of the phase switching">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Indicates whether to react when switching to single-phase or three-phase
                        
                        
                        
                        - **1** - React when switching to single-phase
                        - **3** - React when switching to three-phase
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Detection of an error by the contactor monitoring">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`contactor_okay`<br/>bool</th>
                    <td>
                        Indicates whether to react when a contactor error is present or not.
                        
                        
                        
                        - **true** - React when a contactor error was detected
                        - **false** - React when no contactor error was detected
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="16" label="16 - Power available TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is available or not available.
                        
                        
                        
                        - **true** - React when power is available
                        - **false** - React when no power is available
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Measurement of grid consumption or feed-in">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Indicates whether to react when power is fed into the grid or drawn from the grid.
                        
                        
                        
                        - **true** - React when power is drawn
                        - **false** - React when power is fed in
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="18" label="18 - Receipt of an HTTP request">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`method`<br/>int</th>
                    <td>
                        Indicates which HTTP methods to react to
                        
                        
                        
                        - **0** - React to GET
                        - **1** - React to POST
                        - **2** - React to PUT
                        - **3** - React to POST and PUT
                        - **4** - React to GET, POST and PUT
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`url_suffix`<br/>string</th>
                    <td>
                        URL suffix on which HTTP requests are waited for. Is appended to http://[hostname]/automation_trigger/.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that must be contained in the HTTP request for the rule to trigger. May be empty (especially for HTTP GET).
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/interfaces/mqtt_http/introduction.md#unions)</th>
            <td>
                Action to be executed
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - No action configured.">
                null: No action configured.
                </TabItem>
                
                <TabItem value="1" label="1 - Write to event log">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Message to be written to the event log
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Send an MQTT message">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT topic to which the message should be sent.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload that should be contained in the message
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Indicates whether the message should be retained
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Indicates whether the configured global topic prefix (see [`mqtt/config`](/interfaces/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) should be prepended to the configured topic.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limit the charging current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Charging current limit to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Display on the front button LED">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`indication`<br/>int</th>
                    <td>
                        Blink pattern to be displayed.
                        
                        
                        
                        - **-1** - EVSE controls LED
                        - **0** - Off
                        - **1..254** - PWM dimmed lighting
                        - **255** - On
                        - **1001** - Confirming blink (e.g.: NFC tag was detected)
                        - **1002** - Rejecting blink (e.g.: NFC tag is unknown)
                        - **1003** - Prompting blink (e.g.: NFC tag is required for charging)
                        - **2001..2010** - Error blink 1 to 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisecond">ms</abbr>)</th>
                    <td>
                        Duration for which the set state is maintained.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_h`<br/>int (<abbr title="Degree">Â°</abbr>)</th>
                    <td>
                        Hue value of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 359
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_s`<br/>int</th>
                    <td>
                        Saturation of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). Allowed values are 0 to 255
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`color_v`<br/>int</th>
                    <td>
                        Value (brightness) of the LED in [HSV color space](https://en.wikipedia.org/wiki/HSL_and_HSV). A brightness of 0 uses the default color of the `indication` or blue for WARP1 or WARP2. Allowed values are 0 to 255
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Reset an electricity meter">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter slot ID of the meter to be reset
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Set the current available for the load manager.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Available current to be set
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simulate an NFC tag">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Type of tag.
                        
                        
                        
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Type 1
                        - **2** - NFC Forum Type 2
                        - **3** - NFC Forum Type 3
                        - **4** - NFC Forum Type 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID of the tag. Up to 10 hex bytes depending on tag type, separated by ':'. e.g. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>int</th>
                    <td>
                        Indicates whether the tag should only be used for starting or stopping a charging session, or for both
                        
                        
                        
                        - **0** - Tag can start and stop charging sessions
                        - **0** - Tag can start charging sessions
                        - **0** - Tag can stop charging sessions
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Set the charging time or energy limit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Indicates whether the new limits should apply relative to the existing charging session, or absolutely. For example, if a charging session has been running for 17 minutes and this action is triggered with duration = 2 (30 minutes), then if restart is false, the charging session may continue for another 13 minutes, so that a total of 30 minutes has been charged. If restart is true, it may charge for another 30 minutes, i.e. a total of 47 minutes.
                        
                        
                        
                        - **false** - New charging limit applies relative to the running charging session. E.g. extension <strong>to</strong> 30 minutes.
                        - **true** - New charging limit applies absolutely. E.g. extension <strong>by</strong> 30 minutes.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Time limit of a charging session. After the time limit expires, the charging session is stopped.
                        
                        
                        
                        - **-1** - Do not change time limit
                        - **0** - Unlimited
                        - **1** - 15 minutes
                        - **2** - 30 minutes
                        - **3** - 45 minutes
                        - **4** - 1 hour
                        - **5** - 2 hours
                        - **6** - 3 hours
                        - **7** - 4 hours
                        - **8** - 6 hours
                        - **9** - 8 hours
                        - **10** - 12 hours
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Watt-hour">Wh</abbr>)</th>
                    <td>
                        Energy limit of a charging session. After the energy limit is reached, the charging session is stopped.
                        
                        
                        
                        - **-1** - Do not change energy limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Switch the configurable output">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Indicates whether the configured output should be closed or opened.
                        
                        
                        
                        - **0** - Closed (connected to ground)
                        - **1** - Open (high impedance)
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Start a phase switching">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_wanted`<br/>int</th>
                    <td>
                        Indicates whether to switch to single-phase or three-phase
                        
                        
                        
                        - **1** - Switch to single-phase
                        - **3** - Switch to three-phase
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="12" label="12 - Change the charging mode">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mode`<br/>int</th>
                    <td>
                        Desired charging mode. See [`power_manager/charge_mode`](/interfaces/mqtt_http/api_reference/power_manager.mdx#power_manager_charge_mode)
                        
                        
                        
                        - **0** - Fast
                        - **1** - Off
                        - **2** - PV
                        - **3** - Min + PV
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Switch the relay output">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Indicates whether the relay output should be closed or opened.
                        
                        
                        
                        - **true** - Closed
                        - **false** - Open
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Limit the ???TODO??? current">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Current limit to be set
                        
                        
                        
                        - **-1** - Remove current limit
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Block or release charging sessions">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`slot`<br/>int</th>
                    <td>
                        Blocking slot to be used. Charging sessions are only allowed if all 4 blocking slots are not blocking.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`block`<br/>bool</th>
                    <td>
                        Indicates whether the selected blocking slot should be blocked or released
                        
                        
                        
                        - **false** - Release selected blocking slot
                        - **true** - Block selected blocking slot
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "automation/state",
    "id": "automation_state",
    "level": 2,
    
},{
    "value": "automation/config",
    "id": "automation_config",
    "level": 2,
    
},
];
