---
description: Automatisierung
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/automation.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Automatisierung
Mit dem `automation`-Modul können einfache Regeln ausgeführt werden. Eine Regel besteht aus einer auszuführenden Aktion, sowie aus einer Bedingung, die zutreffen muss, damit die Aktion ausgeführt wird.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
## `automation/state` {#automation_state_warp1}


Der Zustand der Automatisierung. Gibt an, welche Bedingungen und Aktionen von dieser Firmware unterstützt werden und welche der unterstützten Bedingungen und Aktionen im Moment ausgeführt werden können. Je nach Konfiguration können bestimmte Bedingungen und Aktionen nicht ausgeführt werden, beispielsweise kann nicht auf MQTT-Nachrichten reagiert werden, wenn keine MQTT-Verbindung konfiguriert ist.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 5, 6, 9, 10, 11, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8],
  "enabled_triggers": [1, 2, 6, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[18]</th>
    <td>
        Dieser Firmware bekannte Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..17]** - Eine bekannte Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[15]</th>
    <td>
        Dieser Firmware bekannte Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..14]** - Eine bekannte Aktion.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[18]</th>
    <td>
        Aktuell ausführbare Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_triggers`.
        - **[0..17]** - Eine ausführbare Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[15]</th>
    <td>
        Aktuell ausführbare Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_actions`.
        - **[0..14]** - Eine ausführbare Aktion.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp1}


Die Konfiguration der Automatisierung.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
            Mit MQTT auf <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Konfigurierte Regeln
        - **[0..13]** - Eine Automatisierungsregel
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Bedingung, die zutreffen muss, damit Aktion ausgeführt wird
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Bedingung konfiguriert.">
                null: Keine Bedingung konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Zu einem bestimmten Zeitpunkt.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Tag des Monats (1 bis 31 oder -1, 0, 32)
                        - **-1** - Jeder Tag des Monats
                        - **0** - Jeder Tag des Monats
                        - **32** - Letzter Tag des Monats
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Wochentag
                        - **-1** - Jeder Tag der Woche
                        - **0** - Sonntag
                        - **1** - Montag
                        - **2** - Dienstag
                        - **3** - Mittwoch
                        - **4** - Donnerstag
                        - **5** - Freitag
                        - **6** - Samstag
                        - **7** - Sonntag
                        - **8** - Wochentags (Montag bis Freitag)
                        - **9** - Am Wochenende (Samstag und Sonntag)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Stunde des Tages (0 bis 23 oder -1)
                        - **-1** - Stündlich
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute des Tages (0 bis 59 oder -1)
                        - **-1** - Minütlich
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Wechsel des Ladestatus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Ladestatus vor dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Ladestatus nach dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Empfang einer MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic-Filter, mit dem auf Nachrichten gewartet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob auf retained-Pakete reagiert werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Erkennen eines NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Erreichen des Ladezeit- oder Energie-Limits">
                null: Erreichen des Ladezeit- oder Energie-Limits
                </TabItem>
                
                <TabItem value="9" label="9 - Auslösen des Watchdogs der externen Steuerung.">
                null: Auslösen des Watchdogs der externen Steuerung.
                </TabItem>
                
                <TabItem value="10" label="10 - Erkennen eines Fehlers durch die Zählerüberwachung">
                null: Erkennen eines Fehlers durch die Zählerüberwachung
                </TabItem>
                
                <TabItem value="11" label="11 - Auslösen des Watchdogs des Lastmanagements.">
                null: Auslösen des Watchdogs des Lastmanagements.
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Aktion, die ausgeführt werden soll
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Aktion konfiguriert.">
                null: Keine Aktion konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Schreibe ins Ereignislog">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Nachricht, die ins Ereignislog geschrieben werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Sende eine MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic, an das die Nachricht gesendet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob die Nachricht retained werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limitiere den Ladestrom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Ladestromlimit, dass gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Zeige auf der Fronttaster-LED an">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Blinkmuster, dass angezeigt werden soll.
                        - **-1** - EVSE kontrolliert LED
                        - **0** - Aus
                        - **1..254** - Per PWM gedimmtes leuchten
                        - **255** - An
                        - **1001** - Bestätigendes Blinken (z.B: NFC-Tag wurde erkannt)
                        - **1002** - Ablehnendes Blinken (z.B: NFC-Tag ist unbekannt)
                        - **1003** - Aufforderndes Blinken (z.B: NFC-Tag wird zum Laden benötigt)
                        - **2001..2010** - Fehler-Blinken 1 bis 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
                    <td>
                        Dauer für die der gesetzte Zustand erhalten bleibt.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Setze einen Stromzähler zurück">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter-Slot-ID des Zählers, der zurückgesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Setze den für den Lastmanager verfügbaren Strom.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Verfügbarer Strom, der gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simuliere ein NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_action`<br/>int</th>
                    <td>
                        Gibt an ob das Tag nur zum Starten oder Stoppen eines Ladevorgangs, oder für beides genutzt werden soll
                        - **0** - Tag kann Ladevorgänge starten und stoppen
                        - **0** - Tag kann Ladevorgänge starten
                        - **0** - Tag kann Ladevorgänge stoppen
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Setze das Ladezeit- oder Energielimit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Gibt an, ob die neuen Limits relativ zum bestehenden Ladevorgang, oder absolut gelten sollen. Wenn beispielsweise ein Ladevorgang seit 17 Minuten läuft und diese Aktion mit duration = 2 (30 Minuten) ausgelöst wird, dann darf, wenn restart false ist, der Ladevorgang noch weitere 13 Minuten laufen, sodass insgesamt 30 Minuten geladen wurde. Wenn restart true ist, darf weitere 30 Minuten, insgesamt also 47 Minuten geladen werden.
                        - **false** - Neues Ladelimit gilt relativ zum laufenden Ladevorgang. Z.B. Verlängerung <strong>auf</strong> 30 Minuten.
                        - **true** - Neues Ladelimit gilt absolut. Z.B. Verlängerung <strong>um</strong> 30 Minuten.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Zeitlimit eines Ladevorgangs. Nach Ablaufen des Zeitlimits wird der Ladevorgang gestoppt.
                        - **-1** - Zeitlimit nicht verändern
                        - **0** - Unbegrenzt
                        - **1** - 15 Minuten
                        - **2** - 30 Minuten
                        - **3** - 45 Minuten
                        - **4** - 1 Stunde
                        - **5** - 2 Stunden
                        - **6** - 3 Stunden
                        - **7** - 4 Stunden
                        - **8** - 6 Stunden
                        - **9** - 8 Stunden
                        - **10** - 12 Stunden
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Wattstunde">Wh</abbr>)</th>
                    <td>
                        Energielimit eines Ladevorgangs. Nach Ablaufen des Energielimits wird der Ladevorgang gestoppt.
                        - **-1** - Energielimit nicht verändern
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp2">
## `automation/state` {#automation_state_warp2}


Der Zustand der Automatisierung. Gibt an, welche Bedingungen und Aktionen von dieser Firmware unterstützt werden und welche der unterstützten Bedingungen und Aktionen im Moment ausgeführt werden können. Je nach Konfiguration können bestimmte Bedingungen und Aktionen nicht ausgeführt werden, beispielsweise kann nicht auf MQTT-Nachrichten reagiert werden, wenn keine MQTT-Verbindung konfiguriert ist.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
#### Lesen
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 16, 17, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14],
  "enabled_triggers": [1, 2, 4, 6, 7, 8, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 9, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[18]</th>
    <td>
        Dieser Firmware bekannte Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..17]** - Eine bekannte Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[15]</th>
    <td>
        Dieser Firmware bekannte Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..14]** - Eine bekannte Aktion.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[18]</th>
    <td>
        Aktuell ausführbare Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_triggers`.
        - **[0..17]** - Eine ausführbare Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[15]</th>
    <td>
        Aktuell ausführbare Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_actions`.
        - **[0..14]** - Eine ausführbare Aktion.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp2}


Die Konfiguration der Automatisierung.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
            Mit MQTT auf <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Konfigurierte Regeln
        - **[0..13]** - Eine Automatisierungsregel
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Bedingung, die zutreffen muss, damit Aktion ausgeführt wird
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Bedingung konfiguriert.">
                null: Keine Bedingung konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Zu einem bestimmten Zeitpunkt.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Tag des Monats (1 bis 31 oder -1, 0, 32)
                        - **-1** - Jeder Tag des Monats
                        - **0** - Jeder Tag des Monats
                        - **32** - Letzter Tag des Monats
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Wochentag
                        - **-1** - Jeder Tag der Woche
                        - **0** - Sonntag
                        - **1** - Montag
                        - **2** - Dienstag
                        - **3** - Mittwoch
                        - **4** - Donnerstag
                        - **5** - Freitag
                        - **6** - Samstag
                        - **7** - Sonntag
                        - **8** - Wochentags (Montag bis Freitag)
                        - **9** - Am Wochenende (Samstag und Sonntag)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Stunde des Tages (0 bis 23 oder -1)
                        - **-1** - Stündlich
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute des Tages (0 bis 59 oder -1)
                        - **-1** - Minütlich
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Wechsel des Ladestatus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Ladestatus vor dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Ladestatus nach dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Empfang einer MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic-Filter, mit dem auf Nachrichten gewartet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob auf retained-Pakete reagiert werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Drücken des Fronttasters">
                null: Drücken des Fronttasters
                </TabItem>
                
                <TabItem value="5" label="5 - Erkennen eines NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Erreichen des Ladezeit- oder Energie-Limits">
                null: Erreichen des Ladezeit- oder Energie-Limits
                </TabItem>
                
                <TabItem value="7" label="7 - Schalten des Abschalteingangs">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`high`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Schalten des konfigurierbaren Eingangs">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`high`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Auslösen des Watchdogs der externen Steuerung.">
                null: Auslösen des Watchdogs der externen Steuerung.
                </TabItem>
                
                <TabItem value="10" label="10 - Erkennen eines Fehlers durch die Zählerüberwachung">
                null: Erkennen eines Fehlers durch die Zählerüberwachung
                </TabItem>
                
                <TabItem value="11" label="11 - Auslösen des Watchdogs des Lastmanagements.">
                null: Auslösen des Watchdogs des Lastmanagements.
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Aktion, die ausgeführt werden soll
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Aktion konfiguriert.">
                null: Keine Aktion konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Schreibe ins Ereignislog">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Nachricht, die ins Ereignislog geschrieben werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Sende eine MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic, an das die Nachricht gesendet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob die Nachricht retained werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limitiere den Ladestrom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Ladestromlimit, dass gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Zeige auf der Fronttaster-LED an">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Blinkmuster, dass angezeigt werden soll.
                        - **-1** - EVSE kontrolliert LED
                        - **0** - Aus
                        - **1..254** - Per PWM gedimmtes leuchten
                        - **255** - An
                        - **1001** - Bestätigendes Blinken (z.B: NFC-Tag wurde erkannt)
                        - **1002** - Ablehnendes Blinken (z.B: NFC-Tag ist unbekannt)
                        - **1003** - Aufforderndes Blinken (z.B: NFC-Tag wird zum Laden benötigt)
                        - **2001..2010** - Fehler-Blinken 1 bis 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
                    <td>
                        Dauer für die der gesetzte Zustand erhalten bleibt.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Setze einen Stromzähler zurück">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter-Slot-ID des Zählers, der zurückgesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Setze den für den Lastmanager verfügbaren Strom.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Verfügbarer Strom, der gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simuliere ein NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_action`<br/>int</th>
                    <td>
                        Gibt an ob das Tag nur zum Starten oder Stoppen eines Ladevorgangs, oder für beides genutzt werden soll
                        - **0** - Tag kann Ladevorgänge starten und stoppen
                        - **0** - Tag kann Ladevorgänge starten
                        - **0** - Tag kann Ladevorgänge stoppen
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Setze das Ladezeit- oder Energielimit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Gibt an, ob die neuen Limits relativ zum bestehenden Ladevorgang, oder absolut gelten sollen. Wenn beispielsweise ein Ladevorgang seit 17 Minuten läuft und diese Aktion mit duration = 2 (30 Minuten) ausgelöst wird, dann darf, wenn restart false ist, der Ladevorgang noch weitere 13 Minuten laufen, sodass insgesamt 30 Minuten geladen wurde. Wenn restart true ist, darf weitere 30 Minuten, insgesamt also 47 Minuten geladen werden.
                        - **false** - Neues Ladelimit gilt relativ zum laufenden Ladevorgang. Z.B. Verlängerung <strong>auf</strong> 30 Minuten.
                        - **true** - Neues Ladelimit gilt absolut. Z.B. Verlängerung <strong>um</strong> 30 Minuten.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Zeitlimit eines Ladevorgangs. Nach Ablaufen des Zeitlimits wird der Ladevorgang gestoppt.
                        - **-1** - Zeitlimit nicht verändern
                        - **0** - Unbegrenzt
                        - **1** - 15 Minuten
                        - **2** - 30 Minuten
                        - **3** - 45 Minuten
                        - **4** - 1 Stunde
                        - **5** - 2 Stunden
                        - **6** - 3 Stunden
                        - **7** - 4 Stunden
                        - **8** - 6 Stunden
                        - **9** - 8 Stunden
                        - **10** - 12 Stunden
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Wattstunde">Wh</abbr>)</th>
                    <td>
                        Energielimit eines Ladevorgangs. Nach Ablaufen des Energielimits wird der Ladevorgang gestoppt.
                        - **-1** - Energielimit nicht verändern
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Schalte den konfigurierbaren Ausgang">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Gibt an, ob der konfigurierte Ausgang geschlossen oder geöffnet werden soll.
                        - **0** - Geschlossen (verbunden mit Masse)
                        - **1** - Geöffnet (hochohmig)
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp3">
## `automation/state` {#automation_state_warp3}


Der Zustand der Automatisierung. Gibt an, welche Bedingungen und Aktionen von dieser Firmware unterstützt werden und welche der unterstützten Bedingungen und Aktionen im Moment ausgeführt werden können. Je nach Konfiguration können bestimmte Bedingungen und Aktionen nicht ausgeführt werden, beispielsweise kann nicht auf MQTT-Nachrichten reagiert werden, wenn keine MQTT-Verbindung konfiguriert ist.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
#### Lesen
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 16, 17, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8, 11, 12, 14],
  "enabled_triggers": [1, 2, 4, 6, 7, 11, 18, 3, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 2, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[18]</th>
    <td>
        Dieser Firmware bekannte Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..17]** - Eine bekannte Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[15]</th>
    <td>
        Dieser Firmware bekannte Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..14]** - Eine bekannte Aktion.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[18]</th>
    <td>
        Aktuell ausführbare Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_triggers`.
        - **[0..17]** - Eine ausführbare Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[15]</th>
    <td>
        Aktuell ausführbare Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_actions`.
        - **[0..14]** - Eine ausführbare Aktion.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_warp3}


Die Konfiguration der Automatisierung.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
            Mit MQTT auf <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Konfigurierte Regeln
        - **[0..13]** - Eine Automatisierungsregel
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Bedingung, die zutreffen muss, damit Aktion ausgeführt wird
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Bedingung konfiguriert.">
                null: Keine Bedingung konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Zu einem bestimmten Zeitpunkt.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Tag des Monats (1 bis 31 oder -1, 0, 32)
                        - **-1** - Jeder Tag des Monats
                        - **0** - Jeder Tag des Monats
                        - **32** - Letzter Tag des Monats
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Wochentag
                        - **-1** - Jeder Tag der Woche
                        - **0** - Sonntag
                        - **1** - Montag
                        - **2** - Dienstag
                        - **3** - Mittwoch
                        - **4** - Donnerstag
                        - **5** - Freitag
                        - **6** - Samstag
                        - **7** - Sonntag
                        - **8** - Wochentags (Montag bis Freitag)
                        - **9** - Am Wochenende (Samstag und Sonntag)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Stunde des Tages (0 bis 23 oder -1)
                        - **-1** - Stündlich
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute des Tages (0 bis 59 oder -1)
                        - **-1** - Minütlich
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Wechsel des Ladestatus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Ladestatus vor dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Ladestatus nach dem Übergang
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Empfang einer MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic-Filter, mit dem auf Nachrichten gewartet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob auf retained-Pakete reagiert werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Drücken des Fronttasters">
                null: Drücken des Fronttasters
                </TabItem>
                
                <TabItem value="5" label="5 - Erkennen eines NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Erreichen des Ladezeit- oder Energie-Limits">
                null: Erreichen des Ladezeit- oder Energie-Limits
                </TabItem>
                
                <TabItem value="7" label="7 - Schalten des Abschalteingangs">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`high`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Auslösen des Watchdogs der externen Steuerung.">
                null: Auslösen des Watchdogs der externen Steuerung.
                </TabItem>
                
                <TabItem value="10" label="10 - Erkennen eines Fehlers durch die Zählerüberwachung">
                null: Erkennen eines Fehlers durch die Zählerüberwachung
                </TabItem>
                
                <TabItem value="11" label="11 - Auslösen des Watchdogs des Lastmanagements.">
                null: Auslösen des Watchdogs des Lastmanagements.
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Aktion, die ausgeführt werden soll
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Aktion konfiguriert.">
                null: Keine Aktion konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Schreibe ins Ereignislog">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Nachricht, die ins Ereignislog geschrieben werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Sende eine MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic, an das die Nachricht gesendet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob die Nachricht retained werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limitiere den Ladestrom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Ladestromlimit, dass gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Zeige auf der Fronttaster-LED an">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Blinkmuster, dass angezeigt werden soll.
                        - **-1** - EVSE kontrolliert LED
                        - **0** - Aus
                        - **1..254** - Per PWM gedimmtes leuchten
                        - **255** - An
                        - **1001** - Bestätigendes Blinken (z.B: NFC-Tag wurde erkannt)
                        - **1002** - Ablehnendes Blinken (z.B: NFC-Tag ist unbekannt)
                        - **1003** - Aufforderndes Blinken (z.B: NFC-Tag wird zum Laden benötigt)
                        - **2001..2010** - Fehler-Blinken 1 bis 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
                    <td>
                        Dauer für die der gesetzte Zustand erhalten bleibt.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Setze einen Stromzähler zurück">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter-Slot-ID des Zählers, der zurückgesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Setze den für den Lastmanager verfügbaren Strom.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Verfügbarer Strom, der gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simuliere ein NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags.
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_action`<br/>int</th>
                    <td>
                        Gibt an ob das Tag nur zum Starten oder Stoppen eines Ladevorgangs, oder für beides genutzt werden soll
                        - **0** - Tag kann Ladevorgänge starten und stoppen
                        - **0** - Tag kann Ladevorgänge starten
                        - **0** - Tag kann Ladevorgänge stoppen
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Setze das Ladezeit- oder Energielimit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Gibt an, ob die neuen Limits relativ zum bestehenden Ladevorgang, oder absolut gelten sollen. Wenn beispielsweise ein Ladevorgang seit 17 Minuten läuft und diese Aktion mit duration = 2 (30 Minuten) ausgelöst wird, dann darf, wenn restart false ist, der Ladevorgang noch weitere 13 Minuten laufen, sodass insgesamt 30 Minuten geladen wurde. Wenn restart true ist, darf weitere 30 Minuten, insgesamt also 47 Minuten geladen werden.
                        - **false** - Neues Ladelimit gilt relativ zum laufenden Ladevorgang. Z.B. Verlängerung <strong>auf</strong> 30 Minuten.
                        - **true** - Neues Ladelimit gilt absolut. Z.B. Verlängerung <strong>um</strong> 30 Minuten.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Zeitlimit eines Ladevorgangs. Nach Ablaufen des Zeitlimits wird der Ladevorgang gestoppt.
                        - **-1** - Zeitlimit nicht verändern
                        - **0** - Unbegrenzt
                        - **1** - 15 Minuten
                        - **2** - 30 Minuten
                        - **3** - 45 Minuten
                        - **4** - 1 Stunde
                        - **5** - 2 Stunden
                        - **6** - 3 Stunden
                        - **7** - 4 Stunden
                        - **8** - 6 Stunden
                        - **9** - 8 Stunden
                        - **10** - 12 Stunden
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Wattstunde">Wh</abbr>)</th>
                    <td>
                        Energielimit eines Ladevorgangs. Nach Ablaufen des Energielimits wird der Ladevorgang gestoppt.
                        - **-1** - Energielimit nicht verändern
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem">
## `automation/state` {#automation_state_wem}


Der Zustand der Automatisierung. Gibt an, welche Bedingungen und Aktionen von dieser Firmware unterstützt werden und welche der unterstützten Bedingungen und Aktionen im Moment ausgeführt werden können. Je nach Konfiguration können bestimmte Bedingungen und Aktionen nicht ausgeführt werden, beispielsweise kann nicht auf MQTT-Nachrichten reagiert werden, wenn keine MQTT-Verbindung konfiguriert ist.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
#### Lesen
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 3, 12, 13, 14, 15, 16, 17, 18],
  "registered_actions": [1, 2, 5, 11, 12, 13, 14, 15],
  "enabled_triggers": [1, 12, 13, 14, 15, 18, 3, 16, 17],
  "enabled_actions": [1, 5, 13, 15, 2, 12, 14]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[18]</th>
    <td>
        Dieser Firmware bekannte Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)).
        - **[0..17]** - Eine bekannte Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[15]</th>
    <td>
        Dieser Firmware bekannte Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config))
        - **[0..14]** - Eine bekannte Aktion.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[18]</th>
    <td>
        Aktuell ausführbare Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_triggers`.
        - **[0..17]** - Eine ausführbare Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[15]</th>
    <td>
        Aktuell ausführbare Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_actions`.
        - **[0..14]** - Eine ausführbare Aktion.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_wem}


Die Konfiguration der Automatisierung.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
            Mit MQTT auf <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Konfigurierte Regeln
        - **[0..13]** - Eine Automatisierungsregel
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Bedingung, die zutreffen muss, damit Aktion ausgeführt wird
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Bedingung konfiguriert.">
                null: Keine Bedingung konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Zu einem bestimmten Zeitpunkt.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Tag des Monats (1 bis 31 oder -1, 0, 32)
                        - **-1** - Jeder Tag des Monats
                        - **0** - Jeder Tag des Monats
                        - **32** - Letzter Tag des Monats
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Wochentag
                        - **-1** - Jeder Tag der Woche
                        - **0** - Sonntag
                        - **1** - Montag
                        - **2** - Dienstag
                        - **3** - Mittwoch
                        - **4** - Donnerstag
                        - **5** - Freitag
                        - **6** - Samstag
                        - **7** - Sonntag
                        - **8** - Wochentags (Montag bis Freitag)
                        - **9** - Am Wochenende (Samstag und Sonntag)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Stunde des Tages (0 bis 23 oder -1)
                        - **-1** - Stündlich
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute des Tages (0 bis 59 oder -1)
                        - **-1** - Minütlich
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Empfang einer MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic-Filter, mit dem auf Nachrichten gewartet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob auf retained-Pakete reagiert werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Auslösen des Watchdogs des Lastmanagements.">
                null: Auslösen des Watchdogs des Lastmanagements.
                </TabItem>
                
                <TabItem value="12" label="12 - Schalten von Eingang 3">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Schalten von Eingang 4">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Schalten der Phasenumschaltung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Gibt an, ob beim Umschalten auf ein- oder dreiphasig reagiert werden soll
                        - **1** - Reagieren beim Wechsel auf einphasig
                        - **3** - Reagieren beim Wechsel auf dreiphasig
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Erkennen eines Fehlers durch die Schützüberwachung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`contactor_okay`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn ein oder kein Schützfehler vorliegt.
                        - **true** - Reagieren wenn ein Schützfehler erkannt wurde
                        - **false** - Reagieren wenn kein Schützfehler erkannt wurde
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="16" label="16 - Strom verfügbar TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn Strom verfügbar, oder nicht verfügbar ist.
                        - **true** - Reagieren wenn Strom verfügbar ist
                        - **false** - Reagieren wenn kein Strom verfügbar ist
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Netzbezug- oder Einspeisung gemessen">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn Strom ins Netz eingespeist, oder aus dem Netz bezogen wird.
                        - **true** - Reagieren wenn Strom bezogen wird
                        - **false** - Reagieren wenn Strom eingespeist wird
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Aktion, die ausgeführt werden soll
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Aktion konfiguriert.">
                null: Keine Aktion konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Schreibe ins Ereignislog">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Nachricht, die ins Ereignislog geschrieben werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Sende eine MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic, an das die Nachricht gesendet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob die Nachricht retained werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Setze einen Stromzähler zurück">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter-Slot-ID des Zählers, der zurückgesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Setze den für den Lastmanager verfügbaren Strom.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Verfügbarer Strom, der gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Starte eine Phasenumschaltung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Gibt an, auf ein- oder dreiphasig umgeschalted werden soll
                        - **1** - Wechsele auf einphasig
                        - **3** - Wechsele auf dreiphasig
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="12" label="12 - Wechsle den Lademodus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mode`<br/>int</th>
                    <td>
                        Gewünschter Lademodus. Siehe [`power_manager/charge_mode`](/mqtt_http/api_reference/power_manager.mdx#power_manager_charge_mode)
                        - **0** - Schnell
                        - **1** - Aus
                        - **2** - PV
                        - **3** - Min + PV
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Schalte den Relais-Ausgang">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob der Relais-Ausgang geschlossen oder geöffnet werden soll.
                        - **true** - Geschlossen
                        - **false** - Geöffnet
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Limitiere den ???TODO???-Strom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Stromlimit, dass gesetzt werden soll
                        - **-1** - Stromlimit aufheben
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Blockiere oder gebe Ladevorgänge frei">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`slot`<br/>int</th>
                    <td>
                        Blockierslot, der verwendet werden soll. Ladevorgänge werden nur dann erlaubt, wenn alle 4 Blockierslots nicht blockieren.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`block`<br/>bool</th>
                    <td>
                        Gibt an, ob der gewählte Blockierslot blockiert, oder freigegeben werden soll
                        - **false** - Gib gewählten Blockierslot frei
                        - **true** - Blockiere gewählten Blockierslot
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="any">
## `automation/state` {#automation_state_any}


Der Zustand der Automatisierung. Gibt an, welche Bedingungen und Aktionen von dieser Firmware unterstützt werden und welche der unterstützten Bedingungen und Aktionen im Moment ausgeführt werden können. Je nach Konfiguration können bestimmte Bedingungen und Aktionen nicht ausgeführt werden, beispielsweise kann nicht auf MQTT-Nachrichten reagiert werden, wenn keine MQTT-Verbindung konfiguriert ist.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/automation/state
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/state
```
        </TabItem>
    </Tabs>

```jsx
{
  "registered_triggers": [1, 2, 3, 5, 6, 9, 10, 11, 18],
  "registered_actions": [1, 2, 3, 4, 5, 6, 7, 8],
  "enabled_triggers": [1, 2, 6, 11, 18, 10, 5],
  "enabled_actions": [1, 3, 4, 5, 6, 8, 7]
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_triggers`<br/>int[18]</th>
    <td>
        Dieser Firmware bekannte Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)).
        
        
        
        - **[0..17]** - Eine bekannte Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`registered_actions`<br/>int[15]</th>
    <td>
        Dieser Firmware bekannte Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config))
        
        
        
        - **[0..14]** - Eine bekannte Aktion.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_triggers`<br/>int[18]</th>
    <td>
        Aktuell ausführbare Bedingungen (Union-Tags des Triggers einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_triggers`.
        
        
        
        - **[0..17]** - Eine ausführbare Bedingung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enabled_actions`<br/>int[15]</th>
    <td>
        Aktuell ausführbare Aktionen (Union-Tags der Aktion einer Regel aus [`automation/config`](/mqtt_http/api_reference/automation.mdx#automation_config)). Ist immer eine Teilmenge der `registered_actions`.
        
        
        
        - **[0..14]** - Eine ausführbare Aktion.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `automation/config` {#automation_config_any}


Die Konfiguration der Automatisierung.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
```bash
curl http://$HOST/automation/config -d '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
curl http://$HOST/automation/config -d '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/automation/config
```
```jsx
{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}
```
Konfiguriere zwei Aufgaben:
- (Trigger 1) Am Wochenende (wday 9), 10 Minuten (minute 10) nach jeder vollen Stunde,<br/>
  (Action 1) zeige `Hallo Welt!` im Ereignis-Log an.
- (Trigger 18) Wenn eine HTTP-GET-, POST- oder PUT-Anfrage (method 4) mit dem Inhalt "open" an URL `http://$HOST/automation_trigger/garage_door` empfangen wird,<br/>
  (Action 2) sende MQTT-Nachricht `1` an Topic `door/control`.


#### Schreiben
            Mit MQTT auf <code>$PREFIX/automation/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '{
  "tasks": [
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]
}'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/automation/config_update -m '[
    {
      "trigger": [1, { "mday": -1, "wday": 9, "hour": -1, "minute": 10 }],
      "action": [1, { "message": "Hallo Welt!" }]
    },
    {
      "trigger": [
        18,
        { "method": 4, "url_suffix": "garage_door", "payload": "open" }
      ],
      "action": [
        2,
        {
          "topic": "door/control",
          "payload": "1",
          "retain": false,
          "use_prefix": false
        }
      ]
    }
  ]'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`tasks`<br/>object[14]</th>
    <td>
        Konfigurierte Regeln
        
        
        
        - **[0..13]** - Eine Automatisierungsregel
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`trigger`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Bedingung, die zutreffen muss, damit Aktion ausgeführt wird
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Bedingung konfiguriert.">
                null: Keine Bedingung konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Zu einem bestimmten Zeitpunkt.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mday`<br/>int</th>
                    <td>
                        Tag des Monats (1 bis 31 oder -1, 0, 32)
                        
                        
                        
                        - **-1** - Jeder Tag des Monats
                        - **0** - Jeder Tag des Monats
                        - **32** - Letzter Tag des Monats
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`wday`<br/>int</th>
                    <td>
                        Wochentag
                        
                        
                        
                        - **-1** - Jeder Tag der Woche
                        - **0** - Sonntag
                        - **1** - Montag
                        - **2** - Dienstag
                        - **3** - Mittwoch
                        - **4** - Donnerstag
                        - **5** - Freitag
                        - **6** - Samstag
                        - **7** - Sonntag
                        - **8** - Wochentags (Montag bis Freitag)
                        - **9** - Am Wochenende (Samstag und Sonntag)
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`hour`<br/>int</th>
                    <td>
                        Stunde des Tages (0 bis 23 oder -1)
                        
                        
                        
                        - **-1** - Stündlich
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`minute`<br/>int</th>
                    <td>
                        Minute des Tages (0 bis 59 oder -1)
                        
                        
                        
                        - **-1** - Minütlich
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Wechsel des Ladestatus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`old_charger_state`<br/>int</th>
                    <td>
                        Ladestatus vor dem Übergang
                        
                        
                        
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`new_charger_state`<br/>int</th>
                    <td>
                        Ladestatus nach dem Übergang
                        
                        
                        
                        - **-1** - Beliebiger Ladestatus
                        - **0** - Fahrzeug getrennt
                        - **1** - Warte auf Freigabe
                        - **2** - Ladebereit
                        - **3** - Lädt
                        - **4** - Fehler
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Empfang einer MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic-Filter, mit dem auf Nachrichten gewartet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob auf retained-Pakete reagiert werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Drücken des Fronttasters">
                null: Drücken des Fronttasters
                </TabItem>
                
                <TabItem value="5" label="5 - Erkennen eines NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags
                        
                        
                        
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Erreichen des Ladezeit- oder Energie-Limits">
                null: Erreichen des Ladezeit- oder Energie-Limits
                </TabItem>
                
                <TabItem value="7" label="7 - Schalten des Abschalteingangs">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`high`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        
                        
                        
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Schalten des konfigurierbaren Eingangs">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`high`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        
                        
                        
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Auslösen des Watchdogs der externen Steuerung.">
                null: Auslösen des Watchdogs der externen Steuerung.
                </TabItem>
                
                <TabItem value="10" label="10 - Erkennen eines Fehlers durch die Zählerüberwachung">
                null: Erkennen eines Fehlers durch die Zählerüberwachung
                </TabItem>
                
                <TabItem value="11" label="11 - Auslösen des Watchdogs des Lastmanagements.">
                null: Auslösen des Watchdogs des Lastmanagements.
                </TabItem>
                
                <TabItem value="12" label="12 - Schalten von Eingang 3">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        
                        
                        
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Schalten von Eingang 4">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob bei geöffnetem oder geschlossenem Eingang reagiert werden soll
                        
                        
                        
                        - **true** - Reagieren bei geöffnetem Eingang
                        - **false** - Reagieren bei geschlossenem Eingang
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Schalten der Phasenumschaltung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Gibt an, ob beim Umschalten auf ein- oder dreiphasig reagiert werden soll
                        
                        
                        
                        - **1** - Reagieren beim Wechsel auf einphasig
                        - **3** - Reagieren beim Wechsel auf dreiphasig
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Erkennen eines Fehlers durch die Schützüberwachung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`contactor_okay`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn ein oder kein Schützfehler vorliegt.
                        
                        
                        
                        - **true** - Reagieren wenn ein Schützfehler erkannt wurde
                        - **false** - Reagieren wenn kein Schützfehler erkannt wurde
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="16" label="16 - Strom verfügbar TODO">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`power_available`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn Strom verfügbar, oder nicht verfügbar ist.
                        
                        
                        
                        - **true** - Reagieren wenn Strom verfügbar ist
                        - **false** - Reagieren wenn kein Strom verfügbar ist
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="17" label="17 - Netzbezug- oder Einspeisung gemessen">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`drawing_power`<br/>bool</th>
                    <td>
                        Gibt an, ob reagiert werden soll, wenn Strom ins Netz eingespeist, oder aus dem Netz bezogen wird.
                        
                        
                        
                        - **true** - Reagieren wenn Strom bezogen wird
                        - **false** - Reagieren wenn Strom eingespeist wird
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`action`<br/>[Union](/docs/mqtt_http/getting_started#unions)</th>
            <td>
                Aktion, die ausgeführt werden soll
                <MultilineTabs className="unique-tabs">
                <TabItem value="0" label="0 - Keine Aktion konfiguriert.">
                null: Keine Aktion konfiguriert.
                </TabItem>
                
                <TabItem value="1" label="1 - Schreibe ins Ereignislog">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`message`<br/>string</th>
                    <td>
                        Nachricht, die ins Ereignislog geschrieben werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="2" label="2 - Sende eine MQTT-Nachricht">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`topic`<br/>string</th>
                    <td>
                        MQTT-Topic, an das die Nachricht gesendet werden soll.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`payload`<br/>string</th>
                    <td>
                        Payload, der in der Nachricht enthalten sein soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`retain`<br/>bool</th>
                    <td>
                        Gibt an, ob die Nachricht retained werden soll
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`use_prefix`<br/>bool</th>
                    <td>
                        Gibt an, ob der konfigurierte Global-Topic-Prefix (siehe [`mqtt/config`](/mqtt_http/api_reference/mqtt.mdx#mqtt_config)) vor dem konfigurierten Topic vorangestellt werden soll.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="3" label="3 - Limitiere den Ladestrom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Ladestromlimit, dass gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="4" label="4 - Zeige auf der Fronttaster-LED an">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Blinkmuster, dass angezeigt werden soll.
                        
                        
                        
                        - **-1** - EVSE kontrolliert LED
                        - **0** - Aus
                        - **1..254** - Per PWM gedimmtes leuchten
                        - **255** - An
                        - **1001** - Bestätigendes Blinken (z.B: NFC-Tag wurde erkannt)
                        - **1002** - Ablehnendes Blinken (z.B: NFC-Tag ist unbekannt)
                        - **1003** - Aufforderndes Blinken (z.B: NFC-Tag wird zum Laden benötigt)
                        - **2001..2010** - Fehler-Blinken 1 bis 10.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
                    <td>
                        Dauer für die der gesetzte Zustand erhalten bleibt.
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="5" label="5 - Setze einen Stromzähler zurück">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter_slot`<br/>int</th>
                    <td>
                        Meter-Slot-ID des Zählers, der zurückgesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="6" label="6 - Setze den für den Lastmanager verfügbaren Strom.">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Verfügbarer Strom, der gesetzt werden soll
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="7" label="7 - Simuliere ein NFC-Tags">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_type`<br/>int</th>
                    <td>
                        Typ des Tags.
                        
                        
                        
                        - **0** - Mifare Classic
                        - **1** - NFC Forum Typ 1
                        - **2** - NFC Forum Typ 2
                        - **3** - NFC Forum Typ 3
                        - **4** - NFC Forum Typ 4
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_id`<br/>string</th>
                    <td>
                        ID des Tags. Je nach Tag-Typ bis zu 10 Hex-Bytes, separiert durch ':'. z.B. 01:23:AB:3D
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`tag_action`<br/>int</th>
                    <td>
                        Gibt an ob das Tag nur zum Starten oder Stoppen eines Ladevorgangs, oder für beides genutzt werden soll
                        
                        
                        
                        - **0** - Tag kann Ladevorgänge starten und stoppen
                        - **0** - Tag kann Ladevorgänge starten
                        - **0** - Tag kann Ladevorgänge stoppen
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="8" label="8 - Setze das Ladezeit- oder Energielimit">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`restart`<br/>bool</th>
                    <td>
                        Gibt an, ob die neuen Limits relativ zum bestehenden Ladevorgang, oder absolut gelten sollen. Wenn beispielsweise ein Ladevorgang seit 17 Minuten läuft und diese Aktion mit duration = 2 (30 Minuten) ausgelöst wird, dann darf, wenn restart false ist, der Ladevorgang noch weitere 13 Minuten laufen, sodass insgesamt 30 Minuten geladen wurde. Wenn restart true ist, darf weitere 30 Minuten, insgesamt also 47 Minuten geladen werden.
                        
                        
                        
                        - **false** - Neues Ladelimit gilt relativ zum laufenden Ladevorgang. Z.B. Verlängerung <strong>auf</strong> 30 Minuten.
                        - **true** - Neues Ladelimit gilt absolut. Z.B. Verlängerung <strong>um</strong> 30 Minuten.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`duration`<br/>int</th>
                    <td>
                        Zeitlimit eines Ladevorgangs. Nach Ablaufen des Zeitlimits wird der Ladevorgang gestoppt.
                        
                        
                        
                        - **-1** - Zeitlimit nicht verändern
                        - **0** - Unbegrenzt
                        - **1** - 15 Minuten
                        - **2** - 30 Minuten
                        - **3** - 45 Minuten
                        - **4** - 1 Stunde
                        - **5** - 2 Stunden
                        - **6** - 3 Stunden
                        - **7** - 4 Stunden
                        - **8** - 6 Stunden
                        - **9** - 8 Stunden
                        - **10** - 12 Stunden
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_wh`<br/>int (<abbr title="Wattstunde">Wh</abbr>)</th>
                    <td>
                        Energielimit eines Ladevorgangs. Nach Ablaufen des Energielimits wird der Ladevorgang gestoppt.
                        
                        
                        
                        - **-1** - Energielimit nicht verändern
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="9" label="9 - Schalte den konfigurierbaren Ausgang">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
                    <td>
                        Gibt an, ob der konfigurierte Ausgang geschlossen oder geöffnet werden soll.
                        
                        
                        
                        - **0** - Geschlossen (verbunden mit Masse)
                        - **1** - Geöffnet (hochohmig)
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="11" label="11 - Starte eine Phasenumschaltung">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`phase`<br/>int</th>
                    <td>
                        Gibt an, auf ein- oder dreiphasig umgeschalted werden soll
                        
                        
                        
                        - **1** - Wechsele auf einphasig
                        - **3** - Wechsele auf dreiphasig
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="12" label="12 - Wechsle den Lademodus">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`mode`<br/>int</th>
                    <td>
                        Gewünschter Lademodus. Siehe [`power_manager/charge_mode`](/mqtt_http/api_reference/power_manager.mdx#power_manager_charge_mode)
                        
                        
                        
                        - **0** - Schnell
                        - **1** - Aus
                        - **2** - PV
                        - **3** - Min + PV
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="13" label="13 - Schalte den Relais-Ausgang">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>bool</th>
                    <td>
                        Gibt an, ob der Relais-Ausgang geschlossen oder geöffnet werden soll.
                        
                        
                        
                        - **true** - Geschlossen
                        - **false** - Geöffnet
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="14" label="14 - Limitiere den ???TODO???-Strom">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int</th>
                    <td>
                        Stromlimit, dass gesetzt werden soll
                        
                        
                        
                        - **-1** - Stromlimit aufheben
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                
                <TabItem value="15" label="15 - Blockiere oder gebe Ladevorgänge frei">
                
                <table>
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Bedeutung</th>
                        </tr>
                    </thead>
                    <tbody>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`slot`<br/>int</th>
                    <td>
                        Blockierslot, der verwendet werden soll. Ladevorgänge werden nur dann erlaubt, wenn alle 4 Blockierslots nicht blockieren.
                    </td>
                </tr>
                
                <tr>
                    <th scope="row" style={{whiteSpace: "nowrap"}}>`block`<br/>bool</th>
                    <td>
                        Gibt an, ob der gewählte Blockierslot blockiert, oder freigegeben werden soll
                        
                        
                        
                        - **false** - Gib gewählten Blockierslot frei
                        - **true** - Blockiere gewählten Blockierslot
                    </td>
                </tr>
                    </tbody>
                </table>
                </TabItem>
                </MultilineTabs>
                
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "automation/state",
    "id": "automation_state",
    "level": 2,
    
},{
    "value": "automation/config",
    "id": "automation_config",
    "level": 2,
    
},
];
