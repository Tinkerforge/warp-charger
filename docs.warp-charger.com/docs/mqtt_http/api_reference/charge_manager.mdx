---
description: Lastmanager
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/charge_manager.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Lastmanager
Das `charge_manager`-Modul implementiert einen Lastmanager, der eine verfügbare Menge Strom auf ein oder mehrere WARP Charger (jeder Generation) verteilen kann. Der Lastmanager stellt sicher, dass der konfigurierte Verbund an WARP Chargern niemals mehr als den verfügbaren Strom beziehen und versucht diesen möglichst fair zu verteilen. Ein WARP Energy Manager verwendet den Lastmanager außerdem um die Phasenumschaltung eines Verbunds an WARP Chargern über ein externes Schütz sicher umzusetzen.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
## `charge_manager/available_current` {#charge_manager_available_current_warp1}


Der derzeit zur Verfügung stehende Strom. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_current -d '{ "current": 16000 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_current -d '16000'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_current<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '{ "current": 16000 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '16000'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Der zur Verfügung stehende Strom. Es werden nur Ströme akzeptiert, die kleiner als der konfigurierte Maximalstrom maximum_available_current aus [`charge_manager/config`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_config) sind.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/available_phases` {#charge_manager_available_phases_warp1}


Anzahl der derzeit verbundenen Phasen der Wallboxen.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_phases -d '{ "phases": 1 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_phases -d '1'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '{ "phases": 1 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '1'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Anzahl der verbundenen Phasen. Legt fest, ob der einphasige oder dreiphasige minimale Ladestrom für die Stromverteilung beachtet wird. Wird üblicherweise durch die Phasenumschaltung des Energy Managers vorgegeben.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/state` {#charge_manager_state_warp1}


Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet. <strong>Änderungen an diesem Objekt werden nicht als API-Bruch betrachtet!</strong>



<br/><br/><br/>
## `charge_manager/config` {#charge_manager_config_warp1}


Die Lastmanager-Konfiguration.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/config -d '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/config_update -m '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_charge_manager`<br/>bool</th>
    <td>
        Gibt an, ob der Lastmanager aktiviert sein soll.
        - **true** - Wenn der Lastmanager aktiviert ist.
        - **false** - Wenn der Lastmanager nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_watchdog`<br/>bool</th>
    <td>
        Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf [`charge_manager/available_current`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_available_current) einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
        - **true** - Wenn der Watchdog aktiviert ist.
        - **false** - Wenn der Watchdog nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`verbose`<br/>bool</th>
    <td>
        Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
        - **true** - Wenn Stromverteilungen geloggt werden sollen.
        - **false** - Wenn Stromverteilungen nicht geloggt werden sollen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`default_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`maximum_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_auto`<br/>bool</th>
    <td>
        Gibt an, ob der Minimal-Ladestrom anhand des gewählten Fahrzeugtypes (minimum_current_vehicle_type) gesetzt wird.
        - **true** - Minimal-Ladestrom wird anhand des gewählten Fahrzeugtypes gesetzt. minimum_current und minimum_current_1p werden ignoriert, bzw. überschrieben.
        - **false** - minimum_current und minimum_current_1p bestimmen den Minimal-Ladestrom.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_vehicle_type`<br/>int</th>
    <td>
        Fahrzeugtyp für den der Minimal-Ladestrom gewählt wird.
        - **0** - Kein spezifischer Fahrzeugtyp gewählt.
        - **1** - Renault Twingo Z.E., Renault ZOE R110 oder R135
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im dreiphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_1p`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im einphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_threshold`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Wallboxen mit einem Stromzähler, der Phasenströme misst, werden requested_current_threshold Sekunden nach dem Ladestart auf den größten Phasenstrom plus den konfigurierten Spielraum limitiert. Damit kann der verfügbare Strom effizienter auf mehrere Wallboxen verteilt werden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_margin`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Spielraum, der auf den größten gemessenen Phasenstrom aufgeschlagen wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`chargers`<br/>object[10]</th>
    <td>
        Wallboxen, die vom Lastmanager gesteuert werden sollen.
        - **[0..9]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp2">
## `charge_manager/available_current` {#charge_manager_available_current_warp2}


Der derzeit zur Verfügung stehende Strom. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_current -d '{ "current": 16000 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_current -d '16000'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_current<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '{ "current": 16000 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '16000'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Der zur Verfügung stehende Strom. Es werden nur Ströme akzeptiert, die kleiner als der konfigurierte Maximalstrom maximum_available_current aus [`charge_manager/config`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_config) sind.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/available_phases` {#charge_manager_available_phases_warp2}


Anzahl der derzeit verbundenen Phasen der Wallboxen.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_phases -d '{ "phases": 1 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_phases -d '1'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '{ "phases": 1 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '1'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Anzahl der verbundenen Phasen. Legt fest, ob der einphasige oder dreiphasige minimale Ladestrom für die Stromverteilung beachtet wird. Wird üblicherweise durch die Phasenumschaltung des Energy Managers vorgegeben.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/state` {#charge_manager_state_warp2}


Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet. <strong>Änderungen an diesem Objekt werden nicht als API-Bruch betrachtet!</strong>



<br/><br/><br/>
## `charge_manager/config` {#charge_manager_config_warp2}


Die Lastmanager-Konfiguration.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp2-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/config -d '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp2-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp2-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/config_update -m '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp2-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_charge_manager`<br/>bool</th>
    <td>
        Gibt an, ob der Lastmanager aktiviert sein soll.
        - **true** - Wenn der Lastmanager aktiviert ist.
        - **false** - Wenn der Lastmanager nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_watchdog`<br/>bool</th>
    <td>
        Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf [`charge_manager/available_current`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_available_current) einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
        - **true** - Wenn der Watchdog aktiviert ist.
        - **false** - Wenn der Watchdog nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`verbose`<br/>bool</th>
    <td>
        Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
        - **true** - Wenn Stromverteilungen geloggt werden sollen.
        - **false** - Wenn Stromverteilungen nicht geloggt werden sollen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`default_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`maximum_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_auto`<br/>bool</th>
    <td>
        Gibt an, ob der Minimal-Ladestrom anhand des gewählten Fahrzeugtypes (minimum_current_vehicle_type) gesetzt wird.
        - **true** - Minimal-Ladestrom wird anhand des gewählten Fahrzeugtypes gesetzt. minimum_current und minimum_current_1p werden ignoriert, bzw. überschrieben.
        - **false** - minimum_current und minimum_current_1p bestimmen den Minimal-Ladestrom.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_vehicle_type`<br/>int</th>
    <td>
        Fahrzeugtyp für den der Minimal-Ladestrom gewählt wird.
        - **0** - Kein spezifischer Fahrzeugtyp gewählt.
        - **1** - Renault Twingo Z.E., Renault ZOE R110 oder R135
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im dreiphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_1p`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im einphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_threshold`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Wallboxen mit einem Stromzähler, der Phasenströme misst, werden requested_current_threshold Sekunden nach dem Ladestart auf den größten Phasenstrom plus den konfigurierten Spielraum limitiert. Damit kann der verfügbare Strom effizienter auf mehrere Wallboxen verteilt werden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_margin`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Spielraum, der auf den größten gemessenen Phasenstrom aufgeschlagen wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`chargers`<br/>object[32]</th>
    <td>
        Wallboxen, die vom Lastmanager gesteuert werden sollen.
        - **[0..31]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="warp3">
## `charge_manager/available_current` {#charge_manager_available_current_warp3}


Der derzeit zur Verfügung stehende Strom. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_current -d '{ "current": 16000 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_current -d '16000'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_current<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '{ "current": 16000 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '16000'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Der zur Verfügung stehende Strom. Es werden nur Ströme akzeptiert, die kleiner als der konfigurierte Maximalstrom maximum_available_current aus [`charge_manager/config`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_config) sind.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/available_phases` {#charge_manager_available_phases_warp3}


Anzahl der derzeit verbundenen Phasen der Wallboxen.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_phases -d '{ "phases": 1 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_phases -d '1'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '{ "phases": 1 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '1'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Anzahl der verbundenen Phasen. Legt fest, ob der einphasige oder dreiphasige minimale Ladestrom für die Stromverteilung beachtet wird. Wird üblicherweise durch die Phasenumschaltung des Energy Managers vorgegeben.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/state` {#charge_manager_state_warp3}


Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet. <strong>Änderungen an diesem Objekt werden nicht als API-Bruch betrachtet!</strong>



<br/><br/><br/>
## `charge_manager/config` {#charge_manager_config_warp3}


Die Lastmanager-Konfiguration.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp3-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/config -d '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp3-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp3-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/config_update -m '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp3-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_charge_manager`<br/>bool</th>
    <td>
        Gibt an, ob der Lastmanager aktiviert sein soll.
        - **true** - Wenn der Lastmanager aktiviert ist.
        - **false** - Wenn der Lastmanager nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_watchdog`<br/>bool</th>
    <td>
        Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf [`charge_manager/available_current`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_available_current) einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
        - **true** - Wenn der Watchdog aktiviert ist.
        - **false** - Wenn der Watchdog nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`verbose`<br/>bool</th>
    <td>
        Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
        - **true** - Wenn Stromverteilungen geloggt werden sollen.
        - **false** - Wenn Stromverteilungen nicht geloggt werden sollen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`default_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`maximum_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_auto`<br/>bool</th>
    <td>
        Gibt an, ob der Minimal-Ladestrom anhand des gewählten Fahrzeugtypes (minimum_current_vehicle_type) gesetzt wird.
        - **true** - Minimal-Ladestrom wird anhand des gewählten Fahrzeugtypes gesetzt. minimum_current und minimum_current_1p werden ignoriert, bzw. überschrieben.
        - **false** - minimum_current und minimum_current_1p bestimmen den Minimal-Ladestrom.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_vehicle_type`<br/>int</th>
    <td>
        Fahrzeugtyp für den der Minimal-Ladestrom gewählt wird.
        - **0** - Kein spezifischer Fahrzeugtyp gewählt.
        - **1** - Renault Twingo Z.E., Renault ZOE R110 oder R135
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im dreiphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_1p`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im einphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_threshold`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Wallboxen mit einem Stromzähler, der Phasenströme misst, werden requested_current_threshold Sekunden nach dem Ladestart auf den größten Phasenstrom plus den konfigurierten Spielraum limitiert. Damit kann der verfügbare Strom effizienter auf mehrere Wallboxen verteilt werden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_margin`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Spielraum, der auf den größten gemessenen Phasenstrom aufgeschlagen wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`chargers`<br/>object[32]</th>
    <td>
        Wallboxen, die vom Lastmanager gesteuert werden sollen.
        - **[0..31]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="wem">
## `charge_manager/available_current` {#charge_manager_available_current_wem}


Der derzeit zur Verfügung stehende Strom. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_current -d '{ "current": 16000 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_current -d '16000'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_current<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '{ "current": 16000 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '16000'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Der zur Verfügung stehende Strom. Es werden nur Ströme akzeptiert, die kleiner als der konfigurierte Maximalstrom maximum_available_current aus [`charge_manager/config`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_config) sind.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/available_phases` {#charge_manager_available_phases_wem}


Anzahl der derzeit verbundenen Phasen der Wallboxen.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_phases -d '{ "phases": 1 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_phases -d '1'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '{ "phases": 1 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '1'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Anzahl der verbundenen Phasen. Legt fest, ob der einphasige oder dreiphasige minimale Ladestrom für die Stromverteilung beachtet wird. Wird üblicherweise durch die Phasenumschaltung des Energy Managers vorgegeben.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/state` {#charge_manager_state_wem}


Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet. <strong>Änderungen an diesem Objekt werden nicht als API-Bruch betrachtet!</strong>



<br/><br/><br/>
## `charge_manager/config` {#charge_manager_config_wem}


Die Lastmanager-Konfiguration.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "192.168.178.12", "name": "warp-222i" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/config -d '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "192.168.178.12", "name": "warp-222i" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "192.168.178.12", "name": "warp-222i" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/config_update -m '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "192.168.178.12", "name": "warp-222i" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_charge_manager`<br/>bool</th>
    <td>
        Gibt an, ob der Lastmanager aktiviert sein soll.
        - **true** - Wenn der Lastmanager aktiviert ist.
        - **false** - Wenn der Lastmanager nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_watchdog`<br/>bool</th>
    <td>
        Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf [`charge_manager/available_current`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_available_current) einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
        - **true** - Wenn der Watchdog aktiviert ist.
        - **false** - Wenn der Watchdog nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`verbose`<br/>bool</th>
    <td>
        Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
        - **true** - Wenn Stromverteilungen geloggt werden sollen.
        - **false** - Wenn Stromverteilungen nicht geloggt werden sollen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`default_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`maximum_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_auto`<br/>bool</th>
    <td>
        Gibt an, ob der Minimal-Ladestrom anhand des gewählten Fahrzeugtypes (minimum_current_vehicle_type) gesetzt wird.
        - **true** - Minimal-Ladestrom wird anhand des gewählten Fahrzeugtypes gesetzt. minimum_current und minimum_current_1p werden ignoriert, bzw. überschrieben.
        - **false** - minimum_current und minimum_current_1p bestimmen den Minimal-Ladestrom.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_vehicle_type`<br/>int</th>
    <td>
        Fahrzeugtyp für den der Minimal-Ladestrom gewählt wird.
        - **0** - Kein spezifischer Fahrzeugtyp gewählt.
        - **1** - Renault Twingo Z.E., Renault ZOE R110 oder R135
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im dreiphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_1p`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im einphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_threshold`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Wallboxen mit einem Stromzähler, der Phasenströme misst, werden requested_current_threshold Sekunden nach dem Ladestart auf den größten Phasenstrom plus den konfigurierten Spielraum limitiert. Damit kann der verfügbare Strom effizienter auf mehrere Wallboxen verteilt werden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_margin`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Spielraum, der auf den größten gemessenen Phasenstrom aufgeschlagen wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`chargers`<br/>object[32]</th>
    <td>
        Wallboxen, die vom Lastmanager gesteuert werden sollen.
        - **[0..31]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
<TabItem value="any">
## `charge_manager/available_current` {#charge_manager_available_current_any}


Der derzeit zur Verfügung stehende Strom. Dieser Strom wird unter den konfigurierten Wallboxen aufgeteilt.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_current -d '{ "current": 16000 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_current -d '16000'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_current
```
```jsx
{ "current": 16000 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_current<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '{ "current": 16000 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_current_update -m '16000'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Der zur Verfügung stehende Strom. Es werden nur Ströme akzeptiert, die kleiner als der konfigurierte Maximalstrom maximum_available_current aus [`charge_manager/config`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_config) sind.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/available_phases` {#charge_manager_available_phases_any}


Anzahl der derzeit verbundenen Phasen der Wallboxen.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/available_phases -d '{ "phases": 1 }'
```

oder abgekürzt:

```bash
curl http://$HOST/charge_manager/available_phases -d '1'
```




        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/available_phases
```
```jsx
{ "phases": 1 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/available_phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '{ "phases": 1 }'
```

oder abgekürzt:

```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/available_phases_update -m '1'
```




        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Anzahl der verbundenen Phasen. Legt fest, ob der einphasige oder dreiphasige minimale Ladestrom für die Stromverteilung beachtet wird. Wird üblicherweise durch die Phasenumschaltung des Energy Managers vorgegeben.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `charge_manager/state` {#charge_manager_state_any}


Der Zustand des Lastmanagers und aller konfigurierten Wallboxen. Wird vom Webinterface zur Anzeige verwendet. <strong>Änderungen an diesem Objekt werden nicht als API-Bruch betrachtet!</strong>



<br/><br/><br/>
## `charge_manager/config` {#charge_manager_config_any}


Die Lastmanager-Konfiguration.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
```bash
curl http://$HOST/charge_manager/config -d '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/charge_manager/config
```
```jsx
{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/charge_manager/config<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/charge_manager/config_update -m '{
  "enable_charge_manager": true,
  "enable_watchdog": false,
  "default_available_current": 16000,
  "maximum_available_current": 32000,
  "minimum_current_auto": true,
  "minimum_current": 9200,
  "minimum_current_1p": 6000,
  "minimum_current_vehicle_type": 1,
  "verbose": true,
  "requested_current_threshold": 60,
  "requested_current_margin": 3000,
  "chargers": [
    { "host": "127.0.0.1", "name": "warp-AbCd" },
    { "host": "warp2-22oH.local", "name": "warp2-22oH" }
  ]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_charge_manager`<br/>bool</th>
    <td>
        Gibt an, ob der Lastmanager aktiviert sein soll.
        
        
        
        - **true** - Wenn der Lastmanager aktiviert ist.
        - **false** - Wenn der Lastmanager nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`enable_watchdog`<br/>bool</th>
    <td>
        Gibt an, ob der Watchdog aktiviert sein soll. Der Watchdog setzt, wenn 30 Sekunden lang keine Nachricht auf [`charge_manager/available_current`](/mqtt_http/api_reference/charge_manager.mdx#charge_manager_available_current) einging, den verfügbaren Strom auf die Default-Einstellung (default_available_current). Damit kann die Robustheit gegen Ausfall einer externen Steuerung, z.B. bei PV-Überschussladung erhöht werden.
        
        
        
        - **true** - Wenn der Watchdog aktiviert ist.
        - **false** - Wenn der Watchdog nicht aktiviert ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`verbose`<br/>bool</th>
    <td>
        Gibt an, ob jeder Stromverteilung im Ereignis-Log vermerkt werden soll.
        
        
        
        - **true** - Wenn Stromverteilungen geloggt werden sollen.
        - **false** - Wenn Stromverteilungen nicht geloggt werden sollen.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`default_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Strom der nach Neustart des Lastmanagers zur Verfügung stehen soll. Beim Auslösen setzt der Watchdog den verfügbaren Strom auf diesen Strom zurück.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`maximum_available_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Maximum, das über die API und das Webinterface jeweils als verfügbarer Strom gesetzt werden darf. Sollte auf den maximal erlaubten Strom der Anbindung des Wallbox-Verbunds konfiguriert werden, der z.b. durch Hausanschlusses, die Absicherung oder die Zuleitung begrenzt ist.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_auto`<br/>bool</th>
    <td>
        Gibt an, ob der Minimal-Ladestrom anhand des gewählten Fahrzeugtypes (minimum_current_vehicle_type) gesetzt wird.
        
        
        
        - **true** - Minimal-Ladestrom wird anhand des gewählten Fahrzeugtypes gesetzt. minimum_current und minimum_current_1p werden ignoriert, bzw. überschrieben.
        - **false** - minimum_current und minimum_current_1p bestimmen den Minimal-Ladestrom.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_vehicle_type`<br/>int</th>
    <td>
        Fahrzeugtyp für den der Minimal-Ladestrom gewählt wird.
        
        
        
        - **0** - Kein spezifischer Fahrzeugtyp gewählt.
        - **1** - Renault Twingo Z.E., Renault ZOE R110 oder R135
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im dreiphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`minimum_current_1p`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Kleinste Strommenge, die einer Wallbox im einphasigen Betrieb zugeteilt werden soll, damit diese einen Ladevorgang beginnt. Hiermit kann beeinflusst werden wie viele Wallboxen gleichzeitig laden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_threshold`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Wallboxen mit einem Stromzähler, der Phasenströme misst, werden requested_current_threshold Sekunden nach dem Ladestart auf den größten Phasenstrom plus den konfigurierten Spielraum limitiert. Damit kann der verfügbare Strom effizienter auf mehrere Wallboxen verteilt werden.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`requested_current_margin`<br/>int (<abbr title="Milliampere">mA</abbr>)</th>
    <td>
        Spielraum, der auf den größten gemessenen Phasenstrom aufgeschlagen wird.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`chargers`<br/>object[..]</th>
    <td>
        Wallboxen, die vom Lastmanager gesteuert werden sollen.
        
        <strong>WARP 1:</strong><br/>
        
        - **[0..9]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
        
        <strong>WARP 2 und WARP 3 und Energy Manager:</strong><br/>
        
        - **[0..31]** - Eine zu steuernde Wallbox
        <table>
            <thead>
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Bedeutung</th>
                </tr>
            </thead>
            <tbody>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`host`<br/>string</th>
            <td>
                IP-Adresse der zu steuernden Wallbox
            </td>
        </tr>
        
        <tr>
            <th scope="row" style={{whiteSpace: "nowrap"}}>`name`<br/>string</th>
            <td>
                Anzeigename der zu steuernden Wallbox
            </td>
        </tr>
            </tbody>
        </table>
    </td>
</tr>
    </tbody>
</table>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "charge_manager/available_current",
    "id": "charge_manager_available_current",
    "level": 2,
    
},{
    "value": "charge_manager/available_phases",
    "id": "charge_manager_available_phases",
    "level": 2,
    
},{
    "value": "charge_manager/state",
    "id": "charge_manager_state",
    "level": 2,
    
},{
    "value": "charge_manager/config",
    "id": "charge_manager_config",
    "level": 2,
    
},
];
