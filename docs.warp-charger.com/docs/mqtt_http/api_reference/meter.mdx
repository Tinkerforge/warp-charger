---
description: Veraltete Stromzähler-API
---
{/* This file is autogenerated. Edit warp-charger/api_doc_generator/meter.py! */}
import MultilineTabs from '@site/src/components/MultilineTabs';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';

# Veraltete Stromzähler-API
**Bei Neuentwicklungen stattdessen [`meters`-Modul](/mqtt_http/api_reference/meters.mdx) verwenden!**
Die veraltete Stromzähler-API unterstützt nur einen Stromzähler (den, der als `linked_meter_slot` in [`meters_legacy_api/config`](/mqtt_http/api_reference/meters_legacy_api.mdx#meters_legacy_api_config) konfiguriert ist) und kann nur eine Teilmenge der unterstützten Stromzählerwerte melden und verarbeiten. Die veraltete API wird vom [`meters_legacy_api`-Modul](/mqtt_http/api_reference/meters_legacy_api.mdx)-Modul emuliert.
<Tabs groupId="hardwareType" queryString className="hidden-tabs">
<TabItem value="warp1">
## `meter/state` {#meter_state_warp1}


Der Zustand des Stromzählers.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
```bash
curl http://$HOST/meter/state -d '{ "state": 2, "type": 3 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/state<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/state_update -m '{ "state": 2, "type": 3 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
    <td>
        Zustand des Stromzählers
        - **0** - Kein Stromzähler verbunden
        - **1** - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.
        - **2** - Stromzähler verbunden
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jedem Gerät unterstützt!
        - **0** - Kein Stromzähler verfügbar
        - **2** - Eastron SDM630
        - **3** - Eastron SDM72V2
        - **1** - Eastron SDM72
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/values` {#meter_values_warp1}


Die Messwerte des Stromzählers. Benötigt das Feature <a href="#features_meter"><code>"meter"</code></a>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
```bash
curl http://$HOST/meter/values -d '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/values_update -m '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`power`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Die aktuelle Ladeleistung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_rel`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit dem letzten Reset.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_abs`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit der Herstellung des Stromzählers.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/phases` {#meter_phases_warp1}


Angeschlossene und aktive Phasen. Benötigt das Feature <a href="#features_meter_phases"><code>"meter_phases"</code></a>.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
```bash
curl http://$HOST/meter/phases -d '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/phases_update -m '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_active`<br/>bool[3]</th>
    <td>
        Die derzeit aktiven Phasen
        - **[0]** - Phase L1 aktiv
        - **[1]** - Phase L2 aktiv
        - **[2]** - Phase L3 aktiv
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_connected`<br/>bool[3]</th>
    <td>
        Die angeschlossenen Phasen
        - **[0]** - Phase L1 angeschlossen
        - **[1]** - Phase L2 angeschlossen
        - **[2]** - Phase L3 angeschlossen
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/error_counters` {#meter_error_counters_warp1}


Fehlerzähler der Kommunikation mit dem Stromzähler.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/error_counters
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/error_counters
```
        </TabItem>
    </Tabs>

```jsx
{ "meter": 0, "bricklet": 0, "bricklet_reset": 0 }
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen RS485 Bricklet und Stromzähler.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`bricklet`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen ESP Brick und RS485 Bricklet.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`bricklet_reset`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Unerwartete Resets des RS485 Bricklets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/all_values` {#meter_all_values_warp1}


Alle Messwerte, die vom eingebauten Stromzähler gemessen werden. Benötigt das Feature <a href="#features_meter_all_values"><code>"meter_all_values"</code></a>. Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
```bash
curl http://$HOST/meter/all_values -d '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/all_values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/all_values_update -m '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..2]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[3..5]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[6..8]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Wirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Scheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..14]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Blindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[15..17]`<br/>float</th>
    <td>
        Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[18..20]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        relative Phasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[21]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[22]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Durchschnittlicher Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[23]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Summe der Phasenströme
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[24]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Gesamtwirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[25]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Gesamtscheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[26]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Gesamtblindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[27]`<br/>float</th>
    <td>
        Gesamtleistungsfaktor
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[28]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        Gesamtphasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[29]`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Frequenz der Versorgungsspannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[30]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[31]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[32]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[33]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[34]`<br/>float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</th>
    <td>
        Gesamtscheinenergie
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[35]`<br/>float (<abbr title="Amperestunde">Ah</abbr>)</th>
    <td>
        Transportierte elektrische Ladung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[36]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Bezogene Wirkleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[37]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Max. bezogene Wirkleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[38]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Bezogene Scheinleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[39]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Max. bezogene Scheinleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[40]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[41]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Neutralleiterstrom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[42]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[43]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[44]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[45]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[46]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[47..49]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) der Spannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[50..52]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) des Stroms
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[53]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[54]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Strom-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[55..57]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[58..60]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Strom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[61]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[62]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[63]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[64]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[65]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[66]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[67..69]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[70..72]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[73..75]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Gesamtwirkenergie; Import-Export-Summe
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[76..78]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[79..81]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[82..84]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Gesamtblindenergie; Import-Export-Summe
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/reset` {#meter_reset_warp1}


Setzt den Energiezähler zurück.
**Leerer Payload. Es muss einer der folgenden Werte übergeben werden: `null`, `""`, `false`, `0`, `[]` oder `{}`**
<Tabs groupId="apiType" queryString className="hidden-tabs"><TabItem value="http"></TabItem><TabItem value="mqtt"><Admonition type="warning" title="Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert."></Admonition></TabItem></Tabs>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Schreiben
```bash
curl http://$HOST/meter/reset -d 'null'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Schreiben
```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/reset -m 'null'
```



        </TabItem>
    </Tabs>
:::



<br/><br/><br/>
## `meter/last_reset` {#meter_last_reset_warp1}


Der Zeitpunkt des letzten Zähler-Resets (siehe [`meter/reset`](/mqtt_http/api_reference/meter.mdx#meter_reset)) als Unix-Timestamp. 0 falls kein Reset durchgeführt wurde, oder zum Zeitpunkt des Resets keine Netzwerk-Zeitsynchronisierung vorlag.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/last_reset
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/last_reset
```
        </TabItem>
    </Tabs>

```jsx
{ "last_reset": 1714728252 }
```
Zuletzt zurückgesetzt 2024-05-03T11:24:12+02:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_reset`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Unix-Timestamp des Zeitpunkts des letzten Zähler-Resets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/type_override` {#meter_type_override_warp1}


Erlaubt es den verbauten Zählertyp zu überschreiben, falls die Auto-Detektion nicht funktioniert.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Stromzählertyp, der verwendet werden soll
        - **0** - Kein Stromzähler verfügbar
        - **1** - SDM72
        - **2** - SDM630
        - **3** - SDM72V2
        - **255** - Typ-Override nicht aktiv. Stromzählertyp wird automatisch detektiert.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/history` {#meter_history_warp1}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
```bash
curl http://$HOST/meter/history
```
```jsx
{
  "offset": 60927,
  "samples": [
      null, null, null, null, null, null, null, null,
      // 600 weitere null-Werte entfernt
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0, 1736, 6656, 6655, 6666,
      6680, 6716, 6714, 6625, 6640, 6641, 6595, 6612,
      6592, 6593, 6589, 6592, 6600, 6625, 6626, 6637,
      6665, 6636, 6632, 6656, 6616, 6611, 6646, 6670,
      6691, 6715, 6787, 6754, 6761, 6797, 6771, 6685,
      6705, 6778, 6703, 6675, 6681, 6721, 6739, 6816,
      6872, 6858, 6821, 6836, 6784, 6871, 6943, 6930,
      6968, 6955, 6837, 6800, 6846, 6919, 6881, 6736,
      6671, 6655, 6674, 6743, 6878, 5733, 4462, 3712,
      3098, 2693, 2337, 2098, 1683, 1575, 1575,   84,
         0,    0,    0,    0,    0,    0,    0,    0
  ]
}
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `meter/live` {#meter_live_warp1}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für [`meter/history`](/mqtt_http/api_reference/meter.mdx#meter_history) generiert.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
```bash
curl http://$HOST/meter/live
```
```jsx
{
  "offset": 370,
  "samples_per_second": 1.99565,
  "samples": [
    2626, 2626, 2626, 2626, 2626, 2626, 2626, 2673,
    2673, 2673, 2673, 2673, 2673, 2673, 2673, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677,  988,
     988,  988,  988,  988,  988,  988,  988,    3,
       3,    3,    3,    3,    3,    3,    3,    1,
       1,    1,    1,    1,    1,    1,    1,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    4
   ]
}
```
Es liegen 80 Werte vor, ~ 2 Werte pro Sekunde wurden erhoben, das Offset des letzten Werts sind 370 ms
-> Die Messwerte reichen im Moment 40,370 Sekunden in die Vergangenheit.


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples_per_second`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Die Anzahl der gemessenen Werte pro Sekunde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>
</TabItem>
<TabItem value="warp2">
## `meter/state` {#meter_state_warp2}


Der Zustand des Stromzählers.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
```bash
curl http://$HOST/meter/state -d '{ "state": 2, "type": 3 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/state<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/state_update -m '{ "state": 2, "type": 3 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
    <td>
        Zustand des Stromzählers
        - **0** - Kein Stromzähler verbunden
        - **1** - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.
        - **2** - Stromzähler verbunden
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jedem Gerät unterstützt!
        - **0** - Kein Stromzähler verfügbar
        - **2** - Eastron SDM630
        - **3** - Eastron SDM72V2
        - **4** - Eastron SDM72CTM
        - **5** - Eastron SDM630MCT
        - **6** - Eltako DSZ15DZMOD
        - **7** - YTL DEM4A
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/values` {#meter_values_warp2}


Die Messwerte des Stromzählers. Benötigt das Feature <a href="#features_meter"><code>"meter"</code></a>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
```bash
curl http://$HOST/meter/values -d '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/values_update -m '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`power`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Die aktuelle Ladeleistung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_rel`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit dem letzten Reset.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_abs`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit der Herstellung des Stromzählers.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/phases` {#meter_phases_warp2}


Angeschlossene und aktive Phasen. Benötigt das Feature <a href="#features_meter_phases"><code>"meter_phases"</code></a>.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
```bash
curl http://$HOST/meter/phases -d '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/phases_update -m '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_active`<br/>bool[3]</th>
    <td>
        Die derzeit aktiven Phasen
        - **[0]** - Phase L1 aktiv
        - **[1]** - Phase L2 aktiv
        - **[2]** - Phase L3 aktiv
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_connected`<br/>bool[3]</th>
    <td>
        Die angeschlossenen Phasen
        - **[0]** - Phase L1 angeschlossen
        - **[1]** - Phase L2 angeschlossen
        - **[2]** - Phase L3 angeschlossen
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/error_counters` {#meter_error_counters_warp2}


Fehlerzähler der Kommunikation mit dem Stromzähler.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/error_counters
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/error_counters
```
        </TabItem>
    </Tabs>

```jsx
{
  "local_timeout": 0,
  "global_timeout": 0,
  "illegal_function": 0,
  "illegal_data_access": 0,
  "illegal_data_value": 0,
  "slave_device_failure": 0
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`local_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Local Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Global Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_function`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Function
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_access`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Access
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_value`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Value
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`slave_device_failure`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Slave Device Failure
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/all_values` {#meter_all_values_warp2}


Alle Messwerte, die vom eingebauten Stromzähler gemessen werden. Benötigt das Feature <a href="#features_meter_all_values"><code>"meter_all_values"</code></a>. Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
```bash
curl http://$HOST/meter/all_values -d '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/all_values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/all_values_update -m '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..2]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[3..5]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[6..8]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Wirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Scheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..14]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Blindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[15..17]`<br/>float</th>
    <td>
        Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[18..20]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        relative Phasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[21]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[22]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Durchschnittlicher Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[23]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Summe der Phasenströme
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[24]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Gesamtwirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[25]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Gesamtscheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[26]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Gesamtblindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[27]`<br/>float</th>
    <td>
        Gesamtleistungsfaktor
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[28]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        Gesamtphasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[29]`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Frequenz der Versorgungsspannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[30]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[31]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[32]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[33]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[34]`<br/>float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</th>
    <td>
        Gesamtscheinenergie
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[35]`<br/>float (<abbr title="Amperestunde">Ah</abbr>)</th>
    <td>
        Transportierte elektrische Ladung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[36]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Bezogene Wirkleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[37]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Max. bezogene Wirkleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[38]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Bezogene Scheinleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[39]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Max. bezogene Scheinleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[40]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[41]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Neutralleiterstrom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[42]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[43]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[44]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[45]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[46]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[47..49]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) der Spannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[50..52]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) des Stroms
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[53]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[54]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Strom-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[55..57]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[58..60]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Strom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[61]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[62]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[63]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[64]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[65]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[66]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[67..69]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[70..72]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[73..75]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Gesamtwirkenergie; Import-Export-Summe
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[76..78]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[79..81]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[82..84]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Gesamtblindenergie; Import-Export-Summe
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/reset` {#meter_reset_warp2}


Setzt den Energiezähler zurück.
**Leerer Payload. Es muss einer der folgenden Werte übergeben werden: `null`, `""`, `false`, `0`, `[]` oder `{}`**
<Tabs groupId="apiType" queryString className="hidden-tabs"><TabItem value="http"></TabItem><TabItem value="mqtt"><Admonition type="warning" title="Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert."></Admonition></TabItem></Tabs>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
#### Schreiben
```bash
curl http://$HOST/meter/reset -d 'null'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```
#### Schreiben
```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/reset -m 'null'
```



        </TabItem>
    </Tabs>
:::



<br/><br/><br/>
## `meter/last_reset` {#meter_last_reset_warp2}


Der Zeitpunkt des letzten Zähler-Resets (siehe [`meter/reset`](/mqtt_http/api_reference/meter.mdx#meter_reset)) als Unix-Timestamp. 0 falls kein Reset durchgeführt wurde, oder zum Zeitpunkt des Resets keine Netzwerk-Zeitsynchronisierung vorlag.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/last_reset
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp2/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/last_reset
```
        </TabItem>
    </Tabs>

```jsx
{ "last_reset": 1714728252 }
```
Zuletzt zurückgesetzt 2024-05-03T11:24:12+02:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_reset`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Unix-Timestamp des Zeitpunkts des letzten Zähler-Resets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/history` {#meter_history_warp2}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
```bash
curl http://$HOST/meter/history
```
```jsx
{
  "offset": 60927,
  "samples": [
      null, null, null, null, null, null, null, null,
      // 600 weitere null-Werte entfernt
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0, 1736, 6656, 6655, 6666,
      6680, 6716, 6714, 6625, 6640, 6641, 6595, 6612,
      6592, 6593, 6589, 6592, 6600, 6625, 6626, 6637,
      6665, 6636, 6632, 6656, 6616, 6611, 6646, 6670,
      6691, 6715, 6787, 6754, 6761, 6797, 6771, 6685,
      6705, 6778, 6703, 6675, 6681, 6721, 6739, 6816,
      6872, 6858, 6821, 6836, 6784, 6871, 6943, 6930,
      6968, 6955, 6837, 6800, 6846, 6919, 6881, 6736,
      6671, 6655, 6674, 6743, 6878, 5733, 4462, 3712,
      3098, 2693, 2337, 2098, 1683, 1575, 1575,   84,
         0,    0,    0,    0,    0,    0,    0,    0
  ]
}
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `meter/live` {#meter_live_warp2}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für [`meter/history`](/mqtt_http/api_reference/meter.mdx#meter_history) generiert.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp2-AbCd
```
```bash
curl http://$HOST/meter/live
```
```jsx
{
  "offset": 370,
  "samples_per_second": 1.99565,
  "samples": [
    2626, 2626, 2626, 2626, 2626, 2626, 2626, 2673,
    2673, 2673, 2673, 2673, 2673, 2673, 2673, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677,  988,
     988,  988,  988,  988,  988,  988,  988,    3,
       3,    3,    3,    3,    3,    3,    3,    1,
       1,    1,    1,    1,    1,    1,    1,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    4
   ]
}
```
Es liegen 80 Werte vor, ~ 2 Werte pro Sekunde wurden erhoben, das Offset des letzten Werts sind 370 ms
-> Die Messwerte reichen im Moment 40,370 Sekunden in die Vergangenheit.


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples_per_second`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Die Anzahl der gemessenen Werte pro Sekunde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>
</TabItem>
<TabItem value="warp3">
## `meter/state` {#meter_state_warp3}


Der Zustand des Stromzählers.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
```bash
curl http://$HOST/meter/state -d '{ "state": 2, "type": 3 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/state<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/state_update -m '{ "state": 2, "type": 3 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
    <td>
        Zustand des Stromzählers
        - **0** - Kein Stromzähler verbunden
        - **1** - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.
        - **2** - Stromzähler verbunden
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jedem Gerät unterstützt!
        - **0** - Kein Stromzähler verfügbar
        - **2** - Eastron SDM630
        - **3** - Eastron SDM72V2
        - **4** - Eastron SDM72CTM
        - **5** - Eastron SDM630MCT
        - **6** - Eltako DSZ15DZMOD
        - **7** - YTL DEM4A
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/values` {#meter_values_warp3}


Die Messwerte des Stromzählers. Benötigt das Feature <a href="#features_meter"><code>"meter"</code></a>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
```bash
curl http://$HOST/meter/values -d '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/values_update -m '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`power`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Die aktuelle Ladeleistung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_rel`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit dem letzten Reset.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_abs`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit der Herstellung des Stromzählers.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/phases` {#meter_phases_warp3}


Angeschlossene und aktive Phasen. Benötigt das Feature <a href="#features_meter_phases"><code>"meter_phases"</code></a>.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
```bash
curl http://$HOST/meter/phases -d '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/phases_update -m '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_active`<br/>bool[3]</th>
    <td>
        Die derzeit aktiven Phasen
        - **[0]** - Phase L1 aktiv
        - **[1]** - Phase L2 aktiv
        - **[2]** - Phase L3 aktiv
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_connected`<br/>bool[3]</th>
    <td>
        Die angeschlossenen Phasen
        - **[0]** - Phase L1 angeschlossen
        - **[1]** - Phase L2 angeschlossen
        - **[2]** - Phase L3 angeschlossen
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/error_counters` {#meter_error_counters_warp3}


Fehlerzähler der Kommunikation mit dem Stromzähler.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/error_counters
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/error_counters
```
        </TabItem>
    </Tabs>

```jsx
{
  "local_timeout": 0,
  "global_timeout": 0,
  "illegal_function": 0,
  "illegal_data_access": 0,
  "illegal_data_value": 0,
  "slave_device_failure": 0
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`local_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Local Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Global Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_function`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Function
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_access`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Access
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_value`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Value
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`slave_device_failure`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Slave Device Failure
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/all_values` {#meter_all_values_warp3}


Alle Messwerte, die vom eingebauten Stromzähler gemessen werden. Benötigt das Feature <a href="#features_meter_all_values"><code>"meter_all_values"</code></a>. Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
```bash
curl http://$HOST/meter/all_values -d '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/all_values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/all_values_update -m '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..2]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[3..5]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[6..8]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Wirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Scheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..14]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Blindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[15..17]`<br/>float</th>
    <td>
        Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[18..20]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        relative Phasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[21]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[22]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Durchschnittlicher Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[23]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Summe der Phasenströme
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[24]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Gesamtwirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[25]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Gesamtscheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[26]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Gesamtblindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[27]`<br/>float</th>
    <td>
        Gesamtleistungsfaktor
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[28]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        Gesamtphasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[29]`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Frequenz der Versorgungsspannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[30]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[31]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[32]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[33]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[34]`<br/>float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</th>
    <td>
        Gesamtscheinenergie
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[35]`<br/>float (<abbr title="Amperestunde">Ah</abbr>)</th>
    <td>
        Transportierte elektrische Ladung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[36]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Bezogene Wirkleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[37]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Max. bezogene Wirkleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[38]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Bezogene Scheinleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[39]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Max. bezogene Scheinleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[40]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[41]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Neutralleiterstrom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[42]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[43]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[44]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[45]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[46]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[47..49]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) der Spannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[50..52]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) des Stroms
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[53]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[54]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Strom-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[55..57]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[58..60]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Strom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[61]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[62]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[63]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[64]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[65]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[66]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[67..69]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[70..72]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[73..75]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Gesamtwirkenergie; Import-Export-Summe
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[76..78]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[79..81]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[82..84]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Gesamtblindenergie; Import-Export-Summe
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/reset` {#meter_reset_warp3}


Setzt den Energiezähler zurück.
**Leerer Payload. Es muss einer der folgenden Werte übergeben werden: `null`, `""`, `false`, `0`, `[]` oder `{}`**
<Tabs groupId="apiType" queryString className="hidden-tabs"><TabItem value="http"></TabItem><TabItem value="mqtt"><Admonition type="warning" title="Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert."></Admonition></TabItem></Tabs>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
#### Schreiben
```bash
curl http://$HOST/meter/reset -d 'null'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```
#### Schreiben
```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/reset -m 'null'
```



        </TabItem>
    </Tabs>
:::



<br/><br/><br/>
## `meter/last_reset` {#meter_last_reset_warp3}


Der Zeitpunkt des letzten Zähler-Resets (siehe [`meter/reset`](/mqtt_http/api_reference/meter.mdx#meter_reset)) als Unix-Timestamp. 0 falls kein Reset durchgeführt wurde, oder zum Zeitpunkt des Resets keine Netzwerk-Zeitsynchronisierung vorlag.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/last_reset
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp3/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/last_reset
```
        </TabItem>
    </Tabs>

```jsx
{ "last_reset": 1714728252 }
```
Zuletzt zurückgesetzt 2024-05-03T11:24:12+02:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_reset`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Unix-Timestamp des Zeitpunkts des letzten Zähler-Resets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/history` {#meter_history_warp3}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
```bash
curl http://$HOST/meter/history
```
```jsx
{
  "offset": 60927,
  "samples": [
      null, null, null, null, null, null, null, null,
      // 600 weitere null-Werte entfernt
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0, 1736, 6656, 6655, 6666,
      6680, 6716, 6714, 6625, 6640, 6641, 6595, 6612,
      6592, 6593, 6589, 6592, 6600, 6625, 6626, 6637,
      6665, 6636, 6632, 6656, 6616, 6611, 6646, 6670,
      6691, 6715, 6787, 6754, 6761, 6797, 6771, 6685,
      6705, 6778, 6703, 6675, 6681, 6721, 6739, 6816,
      6872, 6858, 6821, 6836, 6784, 6871, 6943, 6930,
      6968, 6955, 6837, 6800, 6846, 6919, 6881, 6736,
      6671, 6655, 6674, 6743, 6878, 5733, 4462, 3712,
      3098, 2693, 2337, 2098, 1683, 1575, 1575,   84,
         0,    0,    0,    0,    0,    0,    0,    0
  ]
}
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `meter/live` {#meter_live_warp3}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für [`meter/history`](/mqtt_http/api_reference/meter.mdx#meter_history) generiert.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp3-AbCd
```
```bash
curl http://$HOST/meter/live
```
```jsx
{
  "offset": 370,
  "samples_per_second": 1.99565,
  "samples": [
    2626, 2626, 2626, 2626, 2626, 2626, 2626, 2673,
    2673, 2673, 2673, 2673, 2673, 2673, 2673, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677,  988,
     988,  988,  988,  988,  988,  988,  988,    3,
       3,    3,    3,    3,    3,    3,    3,    1,
       1,    1,    1,    1,    1,    1,    1,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    4
   ]
}
```
Es liegen 80 Werte vor, ~ 2 Werte pro Sekunde wurden erhoben, das Offset des letzten Werts sind 370 ms
-> Die Messwerte reichen im Moment 40,370 Sekunden in die Vergangenheit.


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples_per_second`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Die Anzahl der gemessenen Werte pro Sekunde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>
</TabItem>
<TabItem value="wem">
## `meter/state` {#meter_state_wem}


Der Zustand des Stromzählers.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
```bash
curl http://$HOST/meter/state -d '{ "state": 2, "type": 3 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/state<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/state_update -m '{ "state": 2, "type": 3 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
    <td>
        Zustand des Stromzählers
        - **0** - Kein Stromzähler verbunden
        - **1** - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.
        - **2** - Stromzähler verbunden
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jedem Gerät unterstützt!
        - **0** - Kein Stromzähler verfügbar
        - **2** - Eastron SDM630
        - **3** - Eastron SDM72V2
        - **4** - Eastron SDM72CTM
        - **5** - Eastron SDM630MCT
        - **6** - Eltako DSZ15DZMOD
        - **7** - YTL DEM4A
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/values` {#meter_values_wem}


Die Messwerte des Stromzählers. Benötigt das Feature <a href="#features_meter"><code>"meter"</code></a>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
```bash
curl http://$HOST/meter/values -d '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/values_update -m '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`power`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Die aktuelle Ladeleistung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_rel`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit dem letzten Reset.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_abs`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit der Herstellung des Stromzählers.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/phases` {#meter_phases_wem}


Angeschlossene und aktive Phasen. Benötigt das Feature <a href="#features_meter_phases"><code>"meter_phases"</code></a>.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
```bash
curl http://$HOST/meter/phases -d '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/phases_update -m '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_active`<br/>bool[3]</th>
    <td>
        Die derzeit aktiven Phasen
        - **[0]** - Phase L1 aktiv
        - **[1]** - Phase L2 aktiv
        - **[2]** - Phase L3 aktiv
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_connected`<br/>bool[3]</th>
    <td>
        Die angeschlossenen Phasen
        - **[0]** - Phase L1 angeschlossen
        - **[1]** - Phase L2 angeschlossen
        - **[2]** - Phase L3 angeschlossen
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/error_counters` {#meter_error_counters_wem}


Fehlerzähler der Kommunikation mit dem Stromzähler.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/error_counters
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/error_counters
```
        </TabItem>
    </Tabs>

```jsx
{
  "local_timeout": 0,
  "global_timeout": 0,
  "illegal_function": 0,
  "illegal_data_access": 0,
  "illegal_data_value": 0,
  "slave_device_failure": 0
}
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`local_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Local Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Global Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_function`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Function
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_access`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Access
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_value`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Value
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`slave_device_failure`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Slave Device Failure
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/all_values` {#meter_all_values_wem}


Alle Messwerte, die vom eingebauten Stromzähler gemessen werden. Benötigt das Feature <a href="#features_meter_all_values"><code>"meter_all_values"</code></a>. Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
```bash
curl http://$HOST/meter/all_values -d '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/all_values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/all_values_update -m '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..2]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[3..5]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[6..8]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Wirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Scheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..14]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Blindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[15..17]`<br/>float</th>
    <td>
        Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[18..20]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        relative Phasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[21]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[22]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Durchschnittlicher Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[23]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Summe der Phasenströme
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[24]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Gesamtwirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[25]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Gesamtscheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[26]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Gesamtblindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[27]`<br/>float</th>
    <td>
        Gesamtleistungsfaktor
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[28]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        Gesamtphasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[29]`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Frequenz der Versorgungsspannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[30]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[31]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[32]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[33]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[34]`<br/>float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</th>
    <td>
        Gesamtscheinenergie
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[35]`<br/>float (<abbr title="Amperestunde">Ah</abbr>)</th>
    <td>
        Transportierte elektrische Ladung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[36]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Bezogene Wirkleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[37]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Max. bezogene Wirkleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[38]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Bezogene Scheinleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[39]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Max. bezogene Scheinleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[40]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[41]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Neutralleiterstrom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[42]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[43]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[44]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[45]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[46]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[47..49]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) der Spannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[50..52]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) des Stroms
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[53]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[54]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Strom-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[55..57]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[58..60]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Strom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[61]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[62]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[63]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[64]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[65]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[66]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[67..69]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[70..72]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[73..75]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Gesamtwirkenergie; Import-Export-Summe
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[76..78]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[79..81]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[82..84]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Gesamtblindenergie; Import-Export-Summe
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/reset` {#meter_reset_wem}


Setzt den Energiezähler zurück.
**Leerer Payload. Es muss einer der folgenden Werte übergeben werden: `null`, `""`, `false`, `0`, `[]` oder `{}`**
<Tabs groupId="apiType" queryString className="hidden-tabs"><TabItem value="http"></TabItem><TabItem value="mqtt"><Admonition type="warning" title="Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert."></Admonition></TabItem></Tabs>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
#### Schreiben
```bash
curl http://$HOST/meter/reset -d 'null'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```
#### Schreiben
```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/reset -m 'null'
```



        </TabItem>
    </Tabs>
:::



<br/><br/><br/>
## `meter/last_reset` {#meter_last_reset_wem}


Der Zeitpunkt des letzten Zähler-Resets (siehe [`meter/reset`](/mqtt_http/api_reference/meter.mdx#meter_reset)) als Unix-Timestamp. 0 falls kein Reset durchgeführt wurde, oder zum Zeitpunkt des Resets keine Netzwerk-Zeitsynchronisierung vorlag.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/last_reset
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. wem/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/last_reset
```
        </TabItem>
    </Tabs>

```jsx
{ "last_reset": 1714728252 }
```
Zuletzt zurückgesetzt 2024-05-03T11:24:12+02:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_reset`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Unix-Timestamp des Zeitpunkts des letzten Zähler-Resets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/history` {#meter_history_wem}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
```bash
curl http://$HOST/meter/history
```
```jsx
{
  "offset": 60927,
  "samples": [
      null, null, null, null, null, null, null, null,
      // 600 weitere null-Werte entfernt
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0, 1736, 6656, 6655, 6666,
      6680, 6716, 6714, 6625, 6640, 6641, 6595, 6612,
      6592, 6593, 6589, 6592, 6600, 6625, 6626, 6637,
      6665, 6636, 6632, 6656, 6616, 6611, 6646, 6670,
      6691, 6715, 6787, 6754, 6761, 6797, 6771, 6685,
      6705, 6778, 6703, 6675, 6681, 6721, 6739, 6816,
      6872, 6858, 6821, 6836, 6784, 6871, 6943, 6930,
      6968, 6955, 6837, 6800, 6846, 6919, 6881, 6736,
      6671, 6655, 6674, 6743, 6878, 5733, 4462, 3712,
      3098, 2693, 2337, 2098, 1683, 1575, 1575,   84,
         0,    0,    0,    0,    0,    0,    0,    0
  ]
}
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `meter/live` {#meter_live_wem}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für [`meter/history`](/mqtt_http/api_reference/meter.mdx#meter_history) generiert.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. wem-AbCd
```
```bash
curl http://$HOST/meter/live
```
```jsx
{
  "offset": 370,
  "samples_per_second": 1.99565,
  "samples": [
    2626, 2626, 2626, 2626, 2626, 2626, 2626, 2673,
    2673, 2673, 2673, 2673, 2673, 2673, 2673, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677,  988,
     988,  988,  988,  988,  988,  988,  988,    3,
       3,    3,    3,    3,    3,    3,    3,    1,
       1,    1,    1,    1,    1,    1,    1,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    4
   ]
}
```
Es liegen 80 Werte vor, ~ 2 Werte pro Sekunde wurden erhoben, das Offset des letzten Werts sind 370 ms
-> Die Messwerte reichen im Moment 40,370 Sekunden in die Vergangenheit.


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples_per_second`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Die Anzahl der gemessenen Werte pro Sekunde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>
</TabItem>
<TabItem value="any">
## `meter/state` {#meter_state_any}


Der Zustand des Stromzählers.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
```bash
curl http://$HOST/meter/state -d '{ "state": 2, "type": 3 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/state
```
```jsx
{ "state": 2, "type": 3 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/state<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/state_update -m '{ "state": 2, "type": 3 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`state`<br/>int</th>
    <td>
        Zustand des Stromzählers
        
        
        
        - **0** - Kein Stromzähler verbunden
        - **1** - Stromzähler unzuverlässig, eventuell nur einphasig verbunden.
        - **2** - Stromzähler verbunden
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Typ des verbauten Stromzählers. Nicht jeder Stromzähler wird von jedem Gerät unterstützt!
        
        
        
        - **0** - Kein Stromzähler verfügbar
        - **2** - Eastron SDM630
        - **3** - Eastron SDM72V2
        
        <strong>WARP 1:</strong><br/>
        
        - **1** - Eastron SDM72
        
        <strong>WARP 2 und WARP 3 und Energy Manager:</strong><br/>
        
        - **4** - Eastron SDM72CTM
        - **5** - Eastron SDM630MCT
        - **6** - Eltako DSZ15DZMOD
        - **7** - YTL DEM4A
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/values` {#meter_values_any}


Die Messwerte des Stromzählers. Benötigt das Feature <a href="#features_meter"><code>"meter"</code></a>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
```bash
curl http://$HOST/meter/values -d '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/values
```
```jsx
{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/values_update -m '{ "power": 6740.49707, "energy_rel": 4636.320801, "energy_abs": 4636.320801 }'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`power`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Die aktuelle Ladeleistung.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_rel`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit dem letzten Reset.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`energy_abs`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Die geladene Energie seit der Herstellung des Stromzählers.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/phases` {#meter_phases_any}


Angeschlossene und aktive Phasen. Benötigt das Feature <a href="#features_meter_phases"><code>"meter_phases"</code></a>.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
```bash
curl http://$HOST/meter/phases -d '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/phases
```
```jsx
{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/phases<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/phases_update -m '{
  "phases_connected": [true, false, false],
  "phases_active": [true, false, false]
}'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_active`<br/>bool[3]</th>
    <td>
        Die derzeit aktiven Phasen
        
        
        
        - **[0]** - Phase L1 aktiv
        - **[1]** - Phase L2 aktiv
        - **[2]** - Phase L3 aktiv
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`phases_connected`<br/>bool[3]</th>
    <td>
        Die angeschlossenen Phasen
        
        
        
        - **[0]** - Phase L1 angeschlossen
        - **[1]** - Phase L2 angeschlossen
        - **[2]** - Phase L3 angeschlossen
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/error_counters` {#meter_error_counters_any}


Fehlerzähler der Kommunikation mit dem Stromzähler.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/error_counters
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/error_counters
```
        </TabItem>
    </Tabs>

```jsx
{ "meter": 0, "bricklet": 0, "bricklet_reset": 0 }
```


:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`meter`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen RS485 Bricklet und Stromzähler.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`bricklet`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Kommunikationsfehler zwischen ESP Brick und RS485 Bricklet.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`bricklet_reset`<br/>int</th>
    <td>
        <strong>(Nur WARP 1)</strong> Unerwartete Resets des RS485 Bricklets.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`local_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Local Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`global_timeout`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Global Timeout
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_function`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Function
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_access`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Access
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`illegal_data_value`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Illegal Data Value
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`slave_device_failure`<br/>int</th>
    <td>
        <strong>(Nur WARP 2 und WARP 3 und Energy Manager)</strong> Slave Device Failure
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/all_values` {#meter_all_values_any}


Alle Messwerte, die vom eingebauten Stromzähler gemessen werden. Benötigt das Feature <a href="#features_meter_all_values"><code>"meter_all_values"</code></a>. Hintereinanderliegende Werte die mit .. gekennzeichnet sind, beziehen sich auf die drei Phasen L1, L2 und L3.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```

#### Lesen
```bash
curl http://$HOST/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
```bash
curl http://$HOST/meter/all_values -d '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```

#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/all_values
```
```jsx
[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]
```



#### Schreiben
            Mit MQTT auf <code>$PREFIX/meter/all_values<strong>_update</strong></code>


```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/all_values_update -m '[
    // Index 0
    215.6799927, 228.3399963, 218.5399933,
    31.42000008, 0, 0.01,
    6758, 0, -2,
    6758, 0, 2.424242258,
    // Index 12
    0, 0, 1.370018482,
    1, 0, -0.825000048,
    0, 0, 2.540998697,
    220.8533325, 10.47666645, 31.43000031,
    // Index 24
    6757, 6760.424316, 1.370018482,
    0, 2.540998697, null,
    943.289978, 0, null,
    null, null, null,
    // Index 36
    null, null, null,
    null, null, null,
    null, null, null,
    null, 31.41500282, null,
    // Index 48
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 60
    null, null, null,
    null, null, 943.289978,
    null, null, null,
    null, null, null,
    // Index 72
    null, null, null,
    null, null, null,
    null, null, null,
    null, null, null,
    // Index 84
    null
  ]'
```



        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Index</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[0..2]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[3..5]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[6..8]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Wirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[9..11]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Scheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[12..14]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Blindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[15..17]`<br/>float</th>
    <td>
        Leistungsfaktor; Das Vorzeichen des Leistungsfaktors gibt die Richtung des Stromflusses an.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[18..20]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        relative Phasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[21]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung gegen Neutral
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[22]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Durchschnittlicher Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[23]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Summe der Phasenströme
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[24]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Gesamtwirkleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[25]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Gesamtscheinleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[26]`<br/>float (<abbr title="Voltampere Reaktiv">var</abbr>)</th>
    <td>
        Gesamtblindleistung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[27]`<br/>float</th>
    <td>
        Gesamtleistungsfaktor
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[28]`<br/>float (<abbr title="Grad">°</abbr>)</th>
    <td>
        Gesamtphasenverschiebung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[29]`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Frequenz der Versorgungsspannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[30]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[31]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[32]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[33]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[34]`<br/>float (<abbr title="Kilovoltamperestunde">kVAh</abbr>)</th>
    <td>
        Gesamtscheinenergie
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[35]`<br/>float (<abbr title="Amperestunde">Ah</abbr>)</th>
    <td>
        Transportierte elektrische Ladung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[36]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Bezogene Wirkleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[37]`<br/>float (<abbr title="Watt">W</abbr>)</th>
    <td>
        Max. bezogene Wirkleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[38]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Bezogene Scheinleistung; Entspricht Import-Export-Differenz
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[39]`<br/>float (<abbr title="Voltampere">VA</abbr>)</th>
    <td>
        Max. bezogene Scheinleistung; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[40]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[41]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Neutralleiterstrom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[42]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[43]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[44]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Spannung L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[45]`<br/>float (<abbr title="Volt">V</abbr>)</th>
    <td>
        Durchschnittliche Spannung zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[46]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Neutralleiterstrom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[47..49]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) der Spannung
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[50..52]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Total Harmonic Distortion (THD) des Stroms
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[53]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[54]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Strom-THD
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[55..57]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Bezogener Strom
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[58..60]`<br/>float (<abbr title="Ampere">A</abbr>)</th>
    <td>
        Max. bezogener Strom; Höchster gemessener Wert
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[61]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L1 zu L2
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[62]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L2 zu L3
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[63]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Spannungs-THD L3 zu L1
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[64]`<br/>float (<abbr title="Prozent">%</abbr>)</th>
    <td>
        Durchschnittliche Spannungs-THD zwischen Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[65]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Summe der Gesamtwirkenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[66]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Summe der Gesamtblindenergien; Import-Export-Summe aller Phasen
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[67..69]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[70..72]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Wirkenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[73..75]`<br/>float (<abbr title="Kilowattstunde">kWh</abbr>)</th>
    <td>
        Gesamtwirkenergie; Import-Export-Summe
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[76..78]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Import; vom Fahrzeug aufgenommen)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[79..81]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Blindenergie (Export; vom Fahrzeug abgegeben)
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`[82..84]`<br/>float (<abbr title="Kilovoltampere Reaktiv Stunde">kvarh</abbr>)</th>
    <td>
        Gesamtblindenergie; Import-Export-Summe
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/reset` {#meter_reset_any}


Setzt den Energiezähler zurück.
**Leerer Payload. Es muss einer der folgenden Werte übergeben werden: `null`, `""`, `false`, `0`, `[]` oder `{}`**
<Tabs groupId="apiType" queryString className="hidden-tabs"><TabItem value="http"></TabItem><TabItem value="mqtt"><Admonition type="warning" title="Löst eine einmalige Aktion aus. Nachrichten, die über den Broker retained wurden, werden ignoriert."></Admonition></TabItem></Tabs>
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Schreiben
```bash
curl http://$HOST/meter/reset -d 'null'
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Schreiben
```bash
mosquitto_pub -h $BROKER -t $PREFIX/meter/reset -m 'null'
```



        </TabItem>
    </Tabs>
:::



<br/><br/><br/>
## `meter/last_reset` {#meter_last_reset_any}


Der Zeitpunkt des letzten Zähler-Resets (siehe [`meter/reset`](/mqtt_http/api_reference/meter.mdx#meter_reset)) als Unix-Timestamp. 0 falls kein Reset durchgeführt wurde, oder zum Zeitpunkt des Resets keine Netzwerk-Zeitsynchronisierung vorlag.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
#### Lesen
```bash
curl http://$HOST/meter/last_reset
```
        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
```bash
# $BROKER z.B. my_mosquitto.localdomain
# $PREFIX z.B. warp/AbCd
```
#### Lesen
```bash
mosquitto_sub -v -C 1 -h $BROKER -t $PREFIX/meter/last_reset
```
        </TabItem>
    </Tabs>

```jsx
{ "last_reset": 1714728252 }
```
Zuletzt zurückgesetzt 2024-05-03T11:24:12+02:00

:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`last_reset`<br/>int (<abbr title="Sekunde">s</abbr>)</th>
    <td>
        Unix-Timestamp des Zeitpunkts des letzten Zähler-Resets.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/type_override` {#meter_type_override_any}

<strong>(Nur WARP 1)</strong> 
Erlaubt es den verbauten Zählertyp zu überschreiben, falls die Auto-Detektion nicht funktioniert.


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`type`<br/>int</th>
    <td>
        Stromzählertyp, der verwendet werden soll
        
        
        
        - **0** - Kein Stromzähler verfügbar
        - **1** - SDM72
        - **2** - SDM630
        - **3** - SDM72V2
        - **255** - Typ-Override nicht aktiv. Stromzählertyp wird automatisch detektiert.
    </td>
</tr>
    </tbody>
</table>

<br/><br/><br/>
## `meter/history` {#meter_history_any}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Eine 48-Stunden-Historie der Ladeleistung in Watt. Bisher fehlende Werte werden durch null angezeigt. Die Historie wird von hinten nach vorne gefüllt, sodass null-Werte nur geschlossen am Anfang des Arrays auftreten, falls der ESP innerhalb der letzten 48 Stunden neugestartet wurde. Es werden bis zu 720 Werte ausgegeben, das entspricht einem Messwert alle 4 Minuten. Diese Messwerte sind der jeweilige Durchschnitt dieser 4 Minuten.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
```bash
curl http://$HOST/meter/history
```
```jsx
{
  "offset": 60927,
  "samples": [
      null, null, null, null, null, null, null, null,
      // 600 weitere null-Werte entfernt
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0,    0,    0,    0,    0,
         0,    0,    0,    0, 1736, 6656, 6655, 6666,
      6680, 6716, 6714, 6625, 6640, 6641, 6595, 6612,
      6592, 6593, 6589, 6592, 6600, 6625, 6626, 6637,
      6665, 6636, 6632, 6656, 6616, 6611, 6646, 6670,
      6691, 6715, 6787, 6754, 6761, 6797, 6771, 6685,
      6705, 6778, 6703, 6675, 6681, 6721, 6739, 6816,
      6872, 6858, 6821, 6836, 6784, 6871, 6943, 6930,
      6968, 6955, 6837, 6800, 6846, 6919, 6881, 6736,
      6671, 6655, 6674, 6743, 6878, 5733, 4462, 3712,
      3098, 2693, 2337, 2098, 1683, 1575, 1575,   84,
         0,    0,    0,    0,    0,    0,    0,    0
  ]
}
```



        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>

<br/><br/><br/>
## `meter/live` {#meter_live_any}
<Tabs groupId="apiType" queryString className="hidden-tabs">
    <TabItem value="http" label="HTTP (curl)">


Die letzten Ladeleistungs-Messwerte. Auf Basis dieser Werte werden die Durchschnittswerte für [`meter/history`](/mqtt_http/api_reference/meter.mdx#meter_history) generiert.
:::info[Beispiel]
    <Tabs groupId="apiType" queryString className="hidden-tabs">
        <TabItem value="http" label="HTTP (curl)">
```bash
# $HOST z.B. warp-AbCd
```
```bash
curl http://$HOST/meter/live
```
```jsx
{
  "offset": 370,
  "samples_per_second": 1.99565,
  "samples": [
    2626, 2626, 2626, 2626, 2626, 2626, 2626, 2673,
    2673, 2673, 2673, 2673, 2673, 2673, 2673, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677, 2677,
    2677, 2677, 2677, 2677, 2677, 2677, 2677,  988,
     988,  988,  988,  988,  988,  988,  988,    3,
       3,    3,    3,    3,    3,    3,    3,    1,
       1,    1,    1,    1,    1,    1,    1,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    3,
       3,    3,    3,    3,    3,    3,    3,    4
   ]
}
```
Es liegen 80 Werte vor, ~ 2 Werte pro Sekunde wurden erhoben, das Offset des letzten Werts sind 370 ms
-> Die Messwerte reichen im Moment 40,370 Sekunden in die Vergangenheit.


        </TabItem>
        <TabItem value="mqtt" label="MQTT (mosquitto)">
            **Wird nur von der HTTP-API unterstützt**
        </TabItem>
    </Tabs>
:::


<table>
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Bedeutung</th>
        </tr>
    </thead>
    <tbody>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`offset`<br/>int (<abbr title="Millisekunde">ms</abbr>)</th>
    <td>
        Das Alter des zuletzt gemessenen Wertes.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples_per_second`<br/>float (<abbr title="Hertz">Hz</abbr>)</th>
    <td>
        Die Anzahl der gemessenen Werte pro Sekunde.
    </td>
</tr>

<tr>
    <th scope="row" style={{whiteSpace: "nowrap"}}>`samples`<br/>int[..]</th>
    <td>
        Die gemessenen Werte. Abhängig von der Länge des Arrays und dem samples_per_second-Wert kann ermittelt werden, wie weit in die Vergangenheit die Messwerte reichen.
    </td>
</tr>
    </tbody>
</table>
    </TabItem>
    <TabItem value="mqtt" label="MQTT (mosquitto)">
        <Admonition type="warning" title="Wird nur von der HTTP-API unterstützt"></Admonition>
    </TabItem>
</Tabs>
</TabItem>
</Tabs>

export const toc = [
    {
    "value": "meter/state",
    "id": "meter_state",
    "level": 2,
    
},{
    "value": "meter/values",
    "id": "meter_values",
    "level": 2,
    
},{
    "value": "meter/phases",
    "id": "meter_phases",
    "level": 2,
    
},{
    "value": "meter/error_counters",
    "id": "meter_error_counters",
    "level": 2,
    
},{
    "value": "meter/all_values",
    "id": "meter_all_values",
    "level": 2,
    
},{
    "value": "meter/reset",
    "id": "meter_reset",
    "level": 2,
    
},{
    "value": "meter/last_reset",
    "id": "meter_last_reset",
    "level": 2,
    
},{
    "value": "meter/type_override",
    "id": "meter_type_override",
    "level": 2,
    "hardwareType": ["warp1"]
},{
    "value": "meter/history",
    "id": "meter_history",
    "level": 2,
    
},{
    "value": "meter/live",
    "id": "meter_live",
    "level": 2,
    
},
];
